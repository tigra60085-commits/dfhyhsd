"""Withdrawal-guide: tapering and discontinuation protocols for psychotropic drugs.

Implements the withdrawal-guide skill:
  â€¢ User enters drug name or class
  â€¢ Bot returns structured tapering protocol:
    withdrawal syndrome characteristics, tapering schedule,
    symptom management, monitoring, patient education
"""

from telegram import Update
from telegram.ext import ContextTypes

from states import WITHDRAW_DRUG, WITHDRAW_RESULT, MAIN_MENU
from keyboards.menus import withdraw_result_keyboard, main_menu_keyboard, back_keyboard
from data.drugs import get_drug_by_name, search_drugs


# â”€â”€â”€ Withdrawal protocols â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

_WITHDRAW_TABLE: dict[str, dict] = {
    "ÐŸÐ°Ñ€Ð¾ÐºÑÐµÑ‚Ð¸Ð½": {
        "risk": "âŒ Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹ â€” Ð½Ð°Ð¸Ð±Ð¾Ð»ÐµÐµ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð½Ñ‹Ð¹ ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ ÑÑ€ÐµÐ´Ð¸ SSRI",
        "onset": "Ð¡Ð¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹ Ñ‡ÐµÑ€ÐµÐ· 24â€“48 Ñ‡ Ð¿Ð¾ÑÐ»Ðµ Ð¿Ñ€Ð¾Ð¿ÑƒÑÐºÐ° Ð´Ð¾Ð·Ñ‹ (ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ð¹ TÂ½ ~21 Ñ‡)",
        "symptoms": [
            "FINISH-ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼: Flu-like (Ð³Ñ€Ð¸Ð¿Ð¿Ð¾Ð¿Ð¾Ð´Ð¾Ð±Ð½Ñ‹Ðµ ÑÐ¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹), Insomnia (Ð±ÐµÑÑÐ¾Ð½Ð½Ð¸Ñ†Ð°), "
            "Nausea (Ñ‚Ð¾ÑˆÐ½Ð¾Ñ‚Ð°), Imbalance (Ð³Ð¾Ð»Ð¾Ð²Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ, Ð½Ð°Ñ€ÑƒÑˆÐµÐ½Ð¸Ðµ Ñ€Ð°Ð²Ð½Ð¾Ð²ÐµÑÐ¸Ñ), "
            "Sensory disturbances (Ð¿Ñ€Ð¾ÑÑ‚Ñ€ÐµÐ»Ñ‹ Ñ‚Ð¾ÐºÐ°, Ð¿Ð°Ñ€ÐµÑÑ‚ÐµÐ·Ð¸Ð¸), Hyperarousal (Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ð°, Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ)",
            "Â«Ð­Ð»ÐµÐºÑ‚Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ñ€Ð°Ð·Ñ€ÑÐ´Ñ‹Â» â€” Ñ…Ð°Ñ€Ð°ÐºÑ‚ÐµÑ€Ð½Ñ‹Ð¹ ÑÐ¸Ð¼Ð¿Ñ‚Ð¾Ð¼ Ð´Ð»Ñ SSRI Ñ ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ð¼ TÂ½",
            "Ð¢Ñ€ÐµÐ²Ð¾Ð³Ð°, Ð¿Ð»Ð°Ñ‡, Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ",
        ],
        "duration": "1â€“4 Ð½ÐµÐ´ Ð¿Ñ€Ð¸ Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾Ð¹ Ð¾Ñ‚Ð¼ÐµÐ½Ðµ; Ð´Ð¾ 2â€“3 Ð¼ÐµÑ Ð¿Ñ€Ð¸ Ñ€ÐµÐ·ÐºÐ¾Ð¹",
        "tapering": [
            "Ð¡Ð½Ð¸Ð¶Ð°Ñ‚ÑŒ Ð½Ð° 10â€“25% Ð´Ð¾Ð·Ñ‹ Ð² Ð¼ÐµÑÑÑ† (Ð¸Ð»Ð¸ Ð¼ÐµÐ´Ð»ÐµÐ½Ð½ÐµÐµ Ð¿Ð¾ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ÑÑ‚Ð¸)",
            "ÐŸÑ€Ð¸ 20 Ð¼Ð³ â†’ 10 Ð¼Ð³ â†’ 5 Ð¼Ð³ (Ð¿Ð¾Ð»Ð¾Ð²Ð¸Ð½Ð° Ñ‚Ð°Ð±Ð»ÐµÑ‚ÐºÐ¸) â†’ Ñ‡ÐµÑ€ÐµÐ· Ð½ÐµÐ´ÐµÐ»ÑŽ Ð¾Ñ‚Ð¼ÐµÐ½Ð°",
            "Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ Ð³Ð¸Ð¿ÐµÑ€Ñ‡ÑƒÐ²ÑÑ‚Ð²Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð¿Ð°Ñ†Ð¸ÐµÐ½Ñ‚Ð¾Ð²: Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´ Ð½Ð° Ñ„Ð»ÑƒÐ¾ÐºÑÐµÑ‚Ð¸Ð½ (Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹ TÂ½) â†’ Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð°Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ð°",
            "ÐÐµ ÑÐ½Ð¸Ð¶Ð°Ñ‚ÑŒ Ð±Ð¾Ð»ÐµÐµ Ñ‡ÐµÐ¼ Ð½Ð° 50% Ð·Ð° Ð¾Ð´Ð¸Ð½ ÑˆÐ°Ð³",
        ],
        "symptom_management": [
            "ÐŸÑ€Ð¸ Â«ÑÐ»ÐµÐºÑ‚Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ñ€Ð°Ð·Ñ€ÑÐ´Ð°Ñ…Â» Ð¸ Ñ‚Ð¾ÑˆÐ½Ð¾Ñ‚Ðµ: Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ñ‚Ñ€Ð°Ð½Ð·Ð¸Ñ‚Ð¾Ñ€Ð½Ñ‹Ðµ, Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ð¿Ð°Ñ†Ð¸ÐµÐ½Ñ‚Ð°",
            "Ð¡Ð¸Ð»ÑŒÐ½Ñ‹Ðµ ÑÐ¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹: Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾ Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ðº Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ¹ Ð´Ð¾Ð·Ðµ",
            "ÐŸÐµÑ€ÐµÑ…Ð¾Ð´ Ð½Ð° Ñ„Ð»ÑƒÐ¾ÐºÑÐµÑ‚Ð¸Ð½ Ð¿Ñ€Ð¸ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾Ð¹ Ð¾Ñ‚Ð¼ÐµÐ½Ðµ: Ñ„Ð»ÑƒÐ¾ÐºÑÐµÑ‚Ð¸Ð½ 20 Ð¼Ð³ Ð½Ð° 2â€“4 Ð½ÐµÐ´ â†’ Ð¾Ñ‚Ð¼ÐµÐ½Ð° Ñ„Ð»ÑƒÐ¾ÐºÑÐµÑ‚Ð¸Ð½Ð° (Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹ TÂ½ â€” Ð¼ÑÐ³ÐºÐ¾Ðµ Â«ÑÐ°Ð¼Ð¾Ð¾Ñ‚Ð¼ÐµÐ½ÐµÐ½Ð¸ÐµÂ»)",
        ],
        "patient_education": [
            "ÐŸÑ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ´Ð¸Ñ‚ÑŒ Ð¾ ÑÐ¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ð°Ñ… Ð´Ð¾ Ð½Ð°Ñ‡Ð°Ð»Ð° Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹",
            "ÐžÐ±ÑŠÑÑÐ½Ð¸Ñ‚ÑŒ Ñ€Ð°Ð·Ð½Ð¸Ñ†Ñƒ: ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ â‰  Ñ€ÐµÑ†Ð¸Ð´Ð¸Ð² Ð´ÐµÐ¿Ñ€ÐµÑÑÐ¸Ð¸",
            "Ð¡Ð¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹: Ð¾ÑÑ‚Ñ€Ñ‹Ðµ, Ð½Ð°Ñ€Ð°ÑÑ‚Ð°ÑŽÑ‚ Ð² Ð¿ÐµÑ€Ð²Ñ‹Ðµ Ð´Ð½Ð¸; Ð¾ÑÐ»Ð°Ð±ÐµÐ²Ð°ÑŽÑ‚ Ñ‡ÐµÑ€ÐµÐ· 1â€“2 Ð½ÐµÐ´",
            "Ð ÐµÑ†Ð¸Ð´Ð¸Ð²: Ð½Ð°Ñ€Ð°ÑÑ‚Ð°ÐµÑ‚ Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾ Ñ‡ÐµÑ€ÐµÐ· 2â€“4 Ð½ÐµÐ´ Ð¿Ð¾ÑÐ»Ðµ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹",
            "Ð’ÐµÑÑ‚Ð¸ Ð´Ð½ÐµÐ²Ð½Ð¸Ðº ÑÐ¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ð¾Ð²",
        ],
    },
    "Ð’ÐµÐ½Ð»Ð°Ñ„Ð°ÐºÑÐ¸Ð½": {
        "risk": "âŒ Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹ â€” Ð¾Ð´Ð¸Ð½ Ð¸Ð· Ð½Ð°Ð¸Ð±Ð¾Ð»ÐµÐµ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð½Ñ‹Ñ… ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼Ð¾Ð² Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ ÑÑ€ÐµÐ´Ð¸ Ð²ÑÐµÑ… Ð°Ð½Ñ‚Ð¸Ð´ÐµÐ¿Ñ€ÐµÑÑÐ°Ð½Ñ‚Ð¾Ð²",
        "onset": "Ð§ÐµÑ€ÐµÐ· 12â€“24 Ñ‡ Ð¿Ð¾ÑÐ»Ðµ Ð¿Ñ€Ð¾Ð¿ÑƒÑÐºÐ° Ð´Ð¾Ð·Ñ‹ (ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ð¹ TÂ½ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾Ð³Ð¾ Ð¼ÐµÑ‚Ð°Ð±Ð¾Ð»Ð¸Ñ‚Ð° ~11 Ñ‡)",
        "symptoms": [
            "FINISH-ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼ (Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð½Ñ‹Ð¹)",
            "Â«Ð­Ð»ÐµÐºÑ‚Ñ€Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ñ€Ð°Ð·Ñ€ÑÐ´Ñ‹Â» Ð² Ð³Ð¾Ð»Ð¾Ð²Ðµ Ð¸ Ñ‚ÐµÐ»Ðµ (brain zaps)",
            "Ð’Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð½Ð°Ñ Ñ‚Ð¾ÑˆÐ½Ð¾Ñ‚Ð°/Ñ€Ð²Ð¾Ñ‚Ð°",
            "Ð”Ð¸Ð°Ñ€ÐµÑ, Ð³Ð¾Ð»Ð¾Ð²Ð½Ð°Ñ Ð±Ð¾Ð»ÑŒ",
            "Ð¢Ñ€ÐµÐ²Ð¾Ð³Ð°, Ð°Ð³Ñ€ÐµÑÑÐ¸Ñ, Ð¿Ð»Ð°ÐºÑÐ¸Ð²Ð¾ÑÑ‚ÑŒ",
        ],
        "duration": "1â€“6 Ð½ÐµÐ´; Ñƒ Ñ‡Ð°ÑÑ‚Ð¸ Ð¿Ð°Ñ†Ð¸ÐµÐ½Ñ‚Ð¾Ð² â€” Ð´Ð¾ 3 Ð¼ÐµÑ",
        "tapering": [
            "Ð¡Ð½Ð¸Ð¶Ð°Ñ‚ÑŒ Ð½Ð° 10â€“25 Ð¼Ð³ ÐºÐ°Ð¶Ð´Ñ‹Ðµ 2â€“4 Ð½ÐµÐ´ (Ð½Ðµ Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ!)",
            "Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÑˆÐ°Ð³: 37.5 Ð¼Ð³/ÑÑƒÑ‚ â†’ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´ Ð½Ð° Ð¿Ñ€ÐµÑ€Ñ‹Ð²Ð¸ÑÑ‚Ñ‹Ð¹ Ð¿Ñ€Ð¸Ñ‘Ð¼ â†’ Ð¾Ñ‚Ð¼ÐµÐ½Ð°",
            "Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚: Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´ Ð½Ð° Ñ„Ð»ÑƒÐ¾ÐºÑÐµÑ‚Ð¸Ð½ 20 Ð¼Ð³ Ð½Ð° 4â€“6 Ð½ÐµÐ´ ÐºÐ°Ðº Â«Ð¼Ð¾ÑÑ‚Â» â†’ Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð°Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ð° Ñ„Ð»ÑƒÐ¾ÐºÑÐµÑ‚Ð¸Ð½Ð°",
            "ÐžÑ‚ÐºÑ€Ñ‹Ñ‚Ð¸Ðµ ÐºÐ°Ð¿ÑÑƒÐ»Ñ‹ ER Ð¸ ÑÑ‡Ñ‘Ñ‚ Ð³Ñ€Ð°Ð½ÑƒÐ» â€” Ð´Ð»Ñ ÑÐ²ÐµÑ€Ñ…Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾Ð¹ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ (Ð¿Ð¾Ð´ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÐµÐ¼ Ð²Ñ€Ð°Ñ‡Ð°)",
        ],
        "symptom_management": [
            "Ð¤Ð»ÑƒÐ¾ÐºÑÐµÑ‚Ð¸Ð½ 10â€“20 Ð¼Ð³ ÐºÐ°Ðº Â«Ð¼Ð¾ÑÑ‚Â» Ð¿Ñ€Ð¸ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð½Ñ‹Ñ… ÑÐ¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ð°Ñ… Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹",
            "Ð¡Ð¸Ð»ÑŒÐ½Ð°Ñ Ñ‚Ð¾ÑˆÐ½Ð¾Ñ‚Ð°: Ð¼ÐµÑ‚Ð¾ÐºÐ»Ð¾Ð¿Ñ€Ð°Ð¼Ð¸Ð´, Ð´Ð¾Ð¼Ð¿ÐµÑ€Ð¸Ð´Ð¾Ð½ (ÐºÑ€Ð°Ñ‚ÐºÐ¾)",
            "Ð“Ð¾Ð»Ð¾Ð²Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ðµ: Ð¸Ð·Ð±ÐµÐ³Ð°Ñ‚ÑŒ Ð²Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ",
            "ÐŸÑ€Ð¸ Ð½ÐµÐ¿Ð¾Ð´Ð´Ð°ÑŽÑ‰ÐµÐ¹ÑÑ Ð¾Ñ‚Ð¼ÐµÐ½Ðµ â€” ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ð¸Ñ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»Ð¸ÑÑ‚Ð°, Ð¸Ð½Ð´Ð¸Ð²Ð¸Ð´ÑƒÐ°Ð»ÑŒÐ½Ð°Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð°",
        ],
        "patient_education": [
            "ÐÐ¸ÐºÐ¾Ð³Ð´Ð° Ð½Ðµ Ð¿Ñ€Ð¾Ð¿ÑƒÑÐºÐ°Ñ‚ÑŒ Ð´Ð¾Ð·Ñ‹ â€” Ð´Ð°Ð¶Ðµ Ð¾Ð´Ð¸Ð½ Ð¿Ñ€Ð¾Ð¿ÑƒÑÐº Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ ÑÐ¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹",
            "ÐÐ¸ÐºÐ¾Ð³Ð´Ð° Ð½Ðµ Ð¿Ñ€ÐµÐºÑ€Ð°Ñ‰Ð°Ñ‚ÑŒ ÑÐ°Ð¼Ð¾ÑÑ‚Ð¾ÑÑ‚ÐµÐ»ÑŒÐ½Ð¾ Ð±ÐµÐ· Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾Ð¹ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹",
            "ÐŸÑ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ´Ð¸Ñ‚ÑŒ: Ð¾Ñ‚Ð¼ÐµÐ½Ð° Ð±ÑƒÐ´ÐµÑ‚ Ð´Ð»Ð¸Ñ‚ÑŒÑÑ Ð½Ðµ Ð¼ÐµÐ½ÐµÐµ 2â€“3 Ð¼ÐµÑ",
            "Ð Ð°Ð·Ð»Ð¸Ñ‡Ð°Ñ‚ÑŒ ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ Ð¸ Ñ€ÐµÑ†Ð¸Ð´Ð¸Ð² (ÑÐ¼. Ð½Ð¸Ð¶Ðµ)",
        ],
    },
    "Ð¤Ð»ÑƒÐ¾ÐºÑÐµÑ‚Ð¸Ð½": {
        "risk": "âœ… ÐÐ¸Ð·ÐºÐ¸Ð¹ â€” ÑÐ°Ð¼Ñ‹Ð¹ Ð¼ÑÐ³ÐºÐ¸Ð¹ ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ ÑÑ€ÐµÐ´Ð¸ SSRI",
        "onset": "Ð¡Ð¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹ ÐµÑÐ»Ð¸ Ð¸ Ð²Ð¾Ð·Ð½Ð¸ÐºÐ°ÑŽÑ‚ â€” Ñ‡ÐµÑ€ÐµÐ· 5â€“7 Ð´Ð½ÐµÐ¹ (TÂ½ Ñ„Ð»ÑƒÐ¾ÐºÑÐµÑ‚Ð¸Ð½Ð° 1â€“4 Ð´Ð½Ñ + Ð½Ð¾Ñ€Ñ„Ð»ÑƒÐ¾ÐºÑÐµÑ‚Ð¸Ð½ 7â€“15 Ð´Ð½ÐµÐ¹)",
        "symptoms": [
            "ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ð¸Ð»Ð¸ Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‚ Ð² Ð±Ð¾Ð»ÑŒÑˆÐ¸Ð½ÑÑ‚Ð²Ðµ ÑÐ»ÑƒÑ‡Ð°ÐµÐ²",
            "Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹: Ð»Ñ‘Ð³ÐºÐ°Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ð°, Ñ€Ð°Ð·Ð´Ñ€Ð°Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ, Ð½Ð°Ñ€ÑƒÑˆÐµÐ½Ð¸Ñ ÑÐ½Ð°",
        ],
        "duration": "Ð•ÑÐ»Ð¸ ÐµÑÑ‚ÑŒ â€” 1â€“2 Ð½ÐµÐ´; Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ ÑÐ°Ð¼Ð¾Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡Ð¸Ð²Ð°ÐµÑ‚ÑÑ",
        "tapering": [
            "Ð”Ð»Ñ Ð±Ð¾Ð»ÑŒÑˆÐ¸Ð½ÑÑ‚Ð²Ð°: Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾Ðµ ÑÐ½Ð¸Ð¶ÐµÐ½Ð¸Ðµ Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ðµ 4 Ð½ÐµÐ´ Ð´Ð¾ÑÑ‚Ð°Ñ‚Ð¾Ñ‡Ð½Ð¾",
            "ÐŸÑ€Ð¸ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ñ… Ð´Ð¾Ð·Ð°Ñ… (20 Ð¼Ð³): Ð¼Ð¾Ð¶Ð½Ð¾ Ð¾Ñ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ñ‡ÐµÑ€ÐµÐ· 2 Ð½ÐµÐ´ ÑÐ½Ð¸Ð¶ÐµÐ½Ð¸Ñ",
            "ÐŸÑ€Ð¸ Ð²Ñ‹ÑÐ¾ÐºÐ¸Ñ… Ð´Ð¾Ð·Ð°Ñ… (60â€“80 Ð¼Ð³): ÑÐ½Ð¸Ð¶Ð°Ñ‚ÑŒ Ð½Ð° 20 Ð¼Ð³ ÐºÐ°Ð¶Ð´Ñ‹Ðµ 2â€“4 Ð½ÐµÐ´",
            "ÐÐ»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð°: Ð¿ÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð½Ð° 20 Ð¼Ð³/48 Ñ‡ Ð½Ð° 2 Ð½ÐµÐ´ â†’ Ð¾Ñ‚Ð¼ÐµÐ½Ð°",
        ],
        "symptom_management": [
            "ÐžÐ±Ñ‹Ñ‡Ð½Ð¾ Ð½Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ ÑÐ¿ÐµÑ†Ð¸Ñ„Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ð»ÐµÑ‡ÐµÐ½Ð¸Ñ",
            "ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ð¿Ð°Ñ†Ð¸ÐµÐ½Ñ‚Ð° Ð¸ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³",
        ],
        "patient_education": [
            "Ð¤Ð»ÑƒÐ¾ÐºÑÐµÑ‚Ð¸Ð½ Ð¸Ð¼ÐµÐµÑ‚ ÑÐ°Ð¼Ñ‹Ð¹ Ð¼ÑÐ³ÐºÐ¸Ð¹ ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ â€” ÑÑ‚Ð¾ ÐµÐ³Ð¾ Ð¿Ñ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð¾",
            "Ð¢ÐµÐ¼ Ð½Ðµ Ð¼ÐµÐ½ÐµÐµ: Ð½Ðµ Ð¿Ñ€ÐµÐºÑ€Ð°Ñ‰Ð°Ñ‚ÑŒ ÑÐ°Ð¼Ð¾ÑÑ‚Ð¾ÑÑ‚ÐµÐ»ÑŒÐ½Ð¾ Ð±ÐµÐ· Ð¾Ð±ÑÑƒÐ¶Ð´ÐµÐ½Ð¸Ñ Ñ Ð²Ñ€Ð°Ñ‡Ð¾Ð¼",
            "ÐžÑ‚Ð¼ÐµÐ½Ð° MAOI Ð¿Ð¾ÑÐ»Ðµ Ñ„Ð»ÑƒÐ¾ÐºÑÐµÑ‚Ð¸Ð½Ð°: 5 Ð½ÐµÐ´ Ð²Ñ‹Ð¶Ð¸Ð´Ð°Ð½Ð¸Ñ (Ð¸Ð·-Ð·Ð° Ð´Ð»Ð¸Ð½Ð½Ð¾Ð³Ð¾ TÂ½)",
        ],
    },
    "Ð”Ð¸Ð°Ð·ÐµÐ¿Ð°Ð¼": {
        "risk": "âŒ ÐžÑ‡ÐµÐ½ÑŒ Ð²Ñ‹ÑÐ¾ÐºÐ¸Ð¹ â€” Ð±ÐµÐ½Ð·Ð¾Ð´Ð¸Ð°Ð·ÐµÐ¿Ð¸Ð½Ð¾Ð²Ð°Ñ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒ; Ñ€Ð¸ÑÐº Ð¶Ð¸Ð·Ð½ÐµÑƒÐ³Ñ€Ð¾Ð¶Ð°ÑŽÑ‰Ð¸Ñ… ÑÑƒÐ´Ð¾Ñ€Ð¾Ð³",
        "onset": "Ð¡Ð¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹ Ñ‡ÐµÑ€ÐµÐ· 24â€“48 Ñ‡ (Ð´Ð¸Ð°Ð·ÐµÐ¿Ð°Ð¼ â€” Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹ TÂ½, ~20â€“100 Ñ‡ â†’ Ð¾Ñ‚Ð»Ð¾Ð¶ÐµÐ½Ð½Ð¾Ðµ Ð½Ð°Ñ‡Ð°Ð»Ð¾)",
        "symptoms": [
            "Ð¢Ñ€ÐµÐ²Ð¾Ð³Ð°, Ð¿Ð°Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð°Ñ‚Ð°ÐºÐ¸, Ð¸Ð½ÑÐ¾Ð¼Ð½Ð¸Ñ",
            "Ð¢Ñ€ÐµÐ¼Ð¾Ñ€, Ð¿Ð¾Ñ‚Ð»Ð¸Ð²Ð¾ÑÑ‚ÑŒ, Ñ‚Ð°Ñ…Ð¸ÐºÐ°Ñ€Ð´Ð¸Ñ",
            "Ð¢Ð¾ÑˆÐ½Ð¾Ñ‚Ð°, Ñ€Ð²Ð¾Ñ‚Ð°",
            "âš ï¸ Ð‘Ð¾Ð»ÑŒÑˆÐ¸Ðµ ÑÑƒÐ´Ð¾Ñ€Ð¾Ð¶Ð½Ñ‹Ðµ Ð¿Ñ€Ð¸Ð¿Ð°Ð´ÐºÐ¸ (Ñ€Ð¸ÑÐº Ð¿Ñ€Ð¸ Ñ€ÐµÐ·ÐºÐ¾Ð¹ Ð¾Ñ‚Ð¼ÐµÐ½Ðµ Ð¿Ð¾ÑÐ»Ðµ Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¸Ñ‘Ð¼Ð° Ð²Ñ‹ÑÐ¾ÐºÐ¸Ñ… Ð´Ð¾Ð·)",
            "ÐŸÑÐ¸Ñ…Ð¾Ð· (Ð¿Ñ€Ð¸ Ñ‚ÑÐ¶Ñ‘Ð»Ð¾Ð¼ ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼Ðµ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹)",
            "ÐŸÐµÑ€Ñ†ÐµÐ¿Ñ‚Ð¸Ð²Ð½Ñ‹Ðµ Ð½Ð°Ñ€ÑƒÑˆÐµÐ½Ð¸Ñ, Ð´ÐµÐ¿ÐµÑ€ÑÐ¾Ð½Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ",
        ],
        "duration": "ÐžÑÑ‚Ñ€Ð°Ñ Ñ„Ð°Ð·Ð°: 1â€“2 Ð½ÐµÐ´; ÑÐ¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹ Ð¼Ð¾Ð³ÑƒÑ‚ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÑ‚ÑŒÑÑ Ð¼ÐµÑÑÑ†Ð°Ð¼Ð¸ (Ð¿Ñ€Ð¾Ñ‚Ñ€Ð°Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼)",
        "tapering": [
            "âš ï¸ ÐÐ˜ÐšÐžÐ“Ð”Ð Ð½Ðµ Ð¾Ñ‚Ð¼ÐµÐ½ÑÑ‚ÑŒ Ñ€ÐµÐ·ÐºÐ¾ Ð¿Ð¾ÑÐ»Ðµ Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð³Ð¾ (>4 Ð½ÐµÐ´) Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð²Ñ‹ÑÐ¾ÐºÐ¸Ñ… Ð´Ð¾Ð·",
            "Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð°Ñ ÑÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ: ÑÐ½Ð¸Ð¶ÐµÐ½Ð¸Ðµ Ð½Ð° 5â€“10 Ð¼Ð³ Ð´Ð¸Ð°Ð·ÐµÐ¿Ð°Ð¼Ð° Ð² Ð½ÐµÐ´ÐµÐ»ÑŽ Ð¿Ñ€Ð¸ Ð´Ð¾Ð·Ð°Ñ… >30 Ð¼Ð³/ÑÑƒÑ‚",
            "ÐŸÑ€Ð¸ Ð½Ð¸Ð·ÐºÐ¸Ñ… Ð´Ð¾Ð·Ð°Ñ…: 2.5â€“5 Ð¼Ð³ Ð² Ð½ÐµÐ´ÐµÐ»ÑŽ",
            "ÐŸÐµÑ€ÐµÐ²Ð¾Ð´ Ð½Ð° Ð´Ð¸Ð°Ð·ÐµÐ¿Ð°Ð¼: Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð¼ÐµÐ½Ðµ Ð´Ñ€ÑƒÐ³Ð¸Ñ… Ð±ÐµÐ½Ð·Ð¾Ð´Ð¸Ð°Ð·ÐµÐ¿Ð¸Ð½Ð¾Ð² â€” ÑÐ½Ð°Ñ‡Ð°Ð»Ð° ÐºÐ¾Ð½Ð²ÐµÑ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð² ÑÐºÐ²Ð¸Ð²Ð°Ð»ÐµÐ½Ñ‚Ð½ÑƒÑŽ Ð´Ð¾Ð·Ñƒ Ð´Ð¸Ð°Ð·ÐµÐ¿Ð°Ð¼Ð° (Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹ TÂ½ = Ð±Ð¾Ð»ÐµÐµ Ð¿Ð»Ð°Ð²Ð½Ð°Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ð°)",
            "ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹: 8â€“12 Ð½ÐµÐ´ Ð´Ð»Ñ Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¸Ñ‘Ð¼Ð°",
        ],
        "symptom_management": [
            "ÐšÐ°Ñ€Ð±Ð°Ð¼Ð°Ð·ÐµÐ¿Ð¸Ð½: ÑÐ½Ð¸Ð¶Ð°ÐµÑ‚ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ ÑÑƒÐ´Ð¾Ñ€Ð¾Ð¶Ð½Ð¾Ð³Ð¾ ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼Ð° Ð¿Ñ€Ð¸ Ð¾Ñ‚Ð¼ÐµÐ½Ðµ",
            "ÐŸÑ€Ð¾Ð¿Ñ€Ð°Ð½Ð¾Ð»Ð¾Ð»: Ñ‚Ñ€ÐµÐ¼Ð¾Ñ€, Ñ‚Ð°Ñ…Ð¸ÐºÐ°Ñ€Ð´Ð¸Ñ (Ð¿Ð¾ Ð¿Ð¾ÐºÐ°Ð·Ð°Ð½Ð¸ÑÐ¼)",
            "Ð¡Ñ‚Ð°Ñ†Ð¸Ð¾Ð½Ð°Ñ€Ð½Ð¾Ðµ Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ: Ð¿Ñ€Ð¸ ÑÑƒÐ´Ð¾Ñ€Ð¾Ð³Ð°Ñ… Ð² Ð°Ð½Ð°Ð¼Ð½ÐµÐ·Ðµ, Ð²Ñ‹ÑÐ¾ÐºÐ¸Ñ… Ð´Ð¾Ð·Ð°Ñ…, Ñ‚ÑÐ¶Ñ‘Ð»Ð¾Ð¹ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸",
            "ÐšÐ»Ð¾Ð½Ð¸Ð´Ð¸Ð½: Ð½ÐµÑ‚ Ð´Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÑŒÑÑ‚Ð² Ð¿Ñ€Ð¸ Ð±ÐµÐ½Ð·Ð¾Ð´Ð¸Ð°Ð·ÐµÐ¿Ð¸Ð½Ð¾Ð²Ð¾Ð¹ Ð¾Ñ‚Ð¼ÐµÐ½Ðµ",
        ],
        "patient_education": [
            "Ð ÐµÐ·ÐºÐ°Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ð° ÐžÐŸÐÐ¡ÐÐ â€” Ñ€Ð¸ÑÐº ÑÑƒÐ´Ð¾Ñ€Ð¾Ð³",
            "ÐžÑ‚Ð¼ÐµÐ½Ð° Ð¿Ñ€Ð¸ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ â€” Ð¿Ñ€Ð¾Ñ†ÐµÑÑ Ð½Ð° Ð¼ÐµÑÑÑ†Ñ‹, Ð½Ðµ Ð½ÐµÐ´ÐµÐ»Ð¸",
            "ÐÐ¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð¾ Ð¾Ñ‰ÑƒÑ‰Ð°Ñ‚ÑŒ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ñƒ Ð² Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐµ â€” ÑÑ‚Ð¾ Ð½Ðµ Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ Â«Ð±ÐµÐ· Ñ‚Ð°Ð±Ð»ÐµÑ‚Ð¾Ðº Ð½ÐµÐ»ÑŒÐ·ÑÂ»",
            "ÐšÐ¾Ð³Ð½Ð¸Ñ‚Ð¸Ð²Ð½Ð¾-Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ñ‡ÐµÑÐºÐ°Ñ Ñ‚ÐµÑ€Ð°Ð¿Ð¸Ñ + Ñ€ÐµÐ»Ð°ÐºÑÐ°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ðµ Ñ‚ÐµÑ…Ð½Ð¸ÐºÐ¸ â€” Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÑŽÑ‚ Ð² Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐµ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹",
        ],
    },
    "ÐÐ»Ð¿Ñ€Ð°Ð·Ð¾Ð»Ð°Ð¼": {
        "risk": "âŒ ÐžÑ‡ÐµÐ½ÑŒ Ð²Ñ‹ÑÐ¾ÐºÐ¸Ð¹ â€” Ð¾Ð´Ð¸Ð½ Ð¸Ð· ÑÐ°Ð¼Ñ‹Ñ… Ñ‚Ñ€ÑƒÐ´Ð½Ñ‹Ñ… Ð´Ð»Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ Ð±ÐµÐ½Ð·Ð¾Ð´Ð¸Ð°Ð·ÐµÐ¿Ð¸Ð½Ð¾Ð² (ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ð¹ TÂ½)",
        "onset": "Ð¡Ð¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹ Ñ‡ÐµÑ€ÐµÐ· 6â€“12 Ñ‡ (TÂ½ ~11 Ñ‡ â€” ÑÐ°Ð¼Ñ‹Ð¹ ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ð¹ ÑÑ€ÐµÐ´Ð¸ Ñ€Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½Ñ‘Ð½Ð½Ñ‹Ñ… Ð‘Ð—Ð”)",
        "symptoms": [
            "Ð’Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð½Ð°Ñ Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ð° Â«Ð¾Ñ‚Ð´Ð°Ñ‡Ð¸Â» (rebound anxiety)",
            "Ð˜Ð½ÑÐ¾Ð¼Ð½Ð¸Ñ, ÐºÐ¾ÑˆÐ¼Ð°Ñ€Ñ‹",
            "Ð¢Ñ€ÐµÐ¼Ð¾Ñ€, Ð¿Ð¾Ñ‚Ð»Ð¸Ð²Ð¾ÑÑ‚ÑŒ, Ñ‚Ð°Ñ…Ð¸ÐºÐ°Ñ€Ð´Ð¸Ñ",
            "âš ï¸ Ð¡ÑƒÐ´Ð¾Ñ€Ð¾Ð³Ð¸ Ð¿Ñ€Ð¸ Ñ€ÐµÐ·ÐºÐ¾Ð¹ Ð¾Ñ‚Ð¼ÐµÐ½Ðµ Ð²Ñ‹ÑÐ¾ÐºÐ¸Ñ… Ð´Ð¾Ð·",
        ],
        "duration": "Ð‘Ð¾Ð»ÐµÐµ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð½Ñ‹Ð¹ Ð¸ Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹, Ñ‡ÐµÐ¼ Ð¿Ñ€Ð¸ Ð´Ð¸Ð°Ð·ÐµÐ¿Ð°Ð¼Ðµ",
        "tapering": [
            "Ð¨Ð°Ð³ 1: Ð¿ÐµÑ€ÐµÐ²ÐµÑÑ‚Ð¸ Ð½Ð° ÑÐºÐ²Ð¸Ð²Ð°Ð»ÐµÐ½Ñ‚Ð½ÑƒÑŽ Ð´Ð¾Ð·Ñƒ Ð´Ð¸Ð°Ð·ÐµÐ¿Ð°Ð¼Ð° (ÑÐºÐ²Ð¸Ð²Ð°Ð»ÐµÐ½Ñ‚: 0.5 Ð¼Ð³ Ð°Ð»Ð¿Ñ€Ð°Ð·Ð¾Ð»Ð°Ð¼Ð° â‰ˆ 10 Ð¼Ð³ Ð´Ð¸Ð°Ð·ÐµÐ¿Ð°Ð¼Ð°)",
            "Ð¨Ð°Ð³ 2: Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾ ÑÐ½Ð¸Ð¶Ð°Ñ‚ÑŒ Ð´Ð¸Ð°Ð·ÐµÐ¿Ð°Ð¼ Ð½Ð° 5 Ð¼Ð³ Ð² 2â€“4 Ð½ÐµÐ´",
            "ÐÐ»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð° XR: Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´ Ð½Ð° Ð°Ð»Ð¿Ñ€Ð°Ð·Ð¾Ð»Ð°Ð¼ XR â†’ Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾Ðµ ÑÐ½Ð¸Ð¶ÐµÐ½Ð¸Ðµ",
            "Ð¡ÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ: Ð½Ðµ Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ 10% Ð´Ð¾Ð·Ñ‹ Ð·Ð° 2 Ð½ÐµÐ´; Ð¿Ñ€Ð¸ ÑÐ¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ð°Ñ… â€” Ð·Ð°Ð¼ÐµÐ´Ð»Ð¸Ñ‚ÑŒ",
        ],
        "symptom_management": [
            "ÐŸÐµÑ€ÐµÐ²Ð¾Ð´ Ð½Ð° Ð´Ð¸Ð°Ð·ÐµÐ¿Ð°Ð¼ â€” Ð¾ÑÐ½Ð¾Ð²Ð½Ð°Ñ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ñ",
            "ÐšÐ°Ñ€Ð±Ð°Ð¼Ð°Ð·ÐµÐ¿Ð¸Ð½ ÐºÐ°Ðº Ð´Ð¾Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¸ ÑÑƒÐ´Ð¾Ñ€Ð¾Ð¶Ð½Ð¾Ð¹ Ð³Ð¾Ñ‚Ð¾Ð²Ð½Ð¾ÑÑ‚Ð¸",
        ],
        "patient_education": [
            "ÐÐ»Ð¿Ñ€Ð°Ð·Ð¾Ð»Ð°Ð¼ â€” Ð¾Ð´Ð¸Ð½ Ð¸Ð· Ð½Ð°Ð¸Ð±Ð¾Ð»ÐµÐµ ÑÐ»Ð¾Ð¶Ð½Ñ‹Ñ… Ð´Ð»Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ Ð¿Ñ€ÐµÐ¿Ð°Ñ€Ð°Ñ‚Ð¾Ð²",
            "ÐŸÐµÑ€ÐµÐ²Ð¾Ð´ Ð½Ð° Ð´Ð¸Ð°Ð·ÐµÐ¿Ð°Ð¼ â€” ÑÑ‚Ð¾ Ð»ÐµÑ‡ÐµÐ½Ð¸Ðµ, Ð½Ðµ ÑƒÑ…ÑƒÐ´ÑˆÐµÐ½Ð¸Ðµ",
            "ÐžÑ‚Ð¼ÐµÐ½Ð° â€” Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ 2â€“3 Ð¼ÐµÑ, Ð¸Ð½Ð¾Ð³Ð´Ð° Ð´Ð¾ 6â€“12 Ð¼ÐµÑ",
        ],
    },
    "Ð›Ð¸Ñ‚Ð¸Ð¹": {
        "risk": "âš ï¸ Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ â€” Ñ€Ð¸ÑÐº Ñ€ÐµÑ†Ð¸Ð´Ð¸Ð²Ð° Ð°Ñ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾Ð³Ð¾ Ñ€Ð°ÑÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð°, Ð½Ðµ Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸",
        "onset": "Ð ÐµÑ†Ð¸Ð´Ð¸Ð² Ð±Ð¸Ð¿Ð¾Ð»ÑÑ€Ð½Ð¾Ð³Ð¾ Ñ€Ð°ÑÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð° Ñ‡ÐµÑ€ÐµÐ· 2â€“4 Ð½ÐµÐ´; Ð¿Ñ€ÐµÐºÑ€Ð°Ñ‰ÐµÐ½Ð¸Ðµ Ð¿ÑÐ¸Ñ…Ð¾Ñ„Ð°Ñ€Ð¼Ð°ÐºÐ¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð·Ð°Ñ‰Ð¸Ñ‚Ñ‹",
        "symptoms": [
            "ÐÐµÑ‚ Ð¸ÑÑ‚Ð¸Ð½Ð½Ð¾Ð³Ð¾ ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼Ð° Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ (Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð½ÐµÑ‚)",
            "âš ï¸ ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ñ€Ð¸ÑÐº: Ñ€ÐµÑ†Ð¸Ð´Ð¸Ð² Ð¼Ð°Ð½Ð¸Ð°ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð¸Ð»Ð¸ Ð´ÐµÐ¿Ñ€ÐµÑÑÐ¸Ð²Ð½Ð¾Ð¹ Ñ„Ð°Ð·Ñ‹",
            "âš ï¸ Ð Ð¸ÑÐº ÑÑƒÐ¸Ñ†Ð¸Ð´Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¿Ð¾Ð²ÐµÐ´ÐµÐ½Ð¸Ñ Ð¿Ð¾ÑÐ»Ðµ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ Ð»Ð¸Ñ‚Ð¸Ñ Ð²Ñ‹ÑˆÐµ, Ñ‡ÐµÐ¼ Ð¿Ñ€Ð¸ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶ÐµÐ½Ð¸Ð¸",
        ],
        "duration": "Ð Ð¸ÑÐº Ñ€ÐµÑ†Ð¸Ð´Ð¸Ð²Ð° â€” Ð¿ÐµÑ€Ð²Ñ‹Ðµ 6 Ð¼ÐµÑ Ð¿Ð¾ÑÐ»Ðµ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÐµÐ½",
        "tapering": [
            "Ð¡Ð½Ð¸Ð¶Ð°Ñ‚ÑŒ Ð´Ð¾Ð·Ñƒ Ð½Ð° 300 Ð¼Ð³ ÐºÐ°Ð¶Ð´Ñ‹Ðµ 1â€“2 Ð½ÐµÐ´ (Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾)",
            "ÐÐµ Ð¼ÐµÐ½ÐµÐµ 1 Ð¼ÐµÑ Ð´Ð»Ñ Ð¿Ð¾Ð»Ð½Ð¾Ð¹ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ Ð¿Ñ€Ð¸ Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð¼ Ð»ÐµÑ‡ÐµÐ½Ð¸Ð¸",
            "ÐŸÑ€Ð¸ Ð¾Ñ‚Ð¼ÐµÐ½Ðµ Ð¿ÐµÑ€ÐµÐ´ Ñ…Ð¸Ñ€ÑƒÑ€Ð³Ð¸ÐµÐ¹/Ñ€Ð¾Ð´Ð°Ð¼Ð¸: Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾; Ð½Ðµ Ñ€ÐµÐ·ÐºÐ¾",
        ],
        "symptom_management": [
            "Ð¢Ñ‰Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ Ð½Ð°Ð±Ð»ÑŽÐ´ÐµÐ½Ð¸Ðµ Ð·Ð° ÑÐ¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ð°Ð¼Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ñ Ð¿ÐµÑ€Ð²Ñ‹Ðµ 6 Ð¼ÐµÑ",
            "Ð Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½ÑƒÑŽ ÑÐ¼ÐµÐ½Ñƒ Ð½Ð° Ð²Ð°Ð»ÑŒÐ¿Ñ€Ð¾Ð°Ñ‚ Ð¸Ð»Ð¸ Ð»Ð°Ð¼Ð¾Ñ‚Ñ€Ð¸Ð´Ð¶Ð¸Ð½ Ð¿ÐµÑ€ÐµÐ´ Ð±ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒÑŽ (ÐµÑÐ»Ð¸ Ð¾Ñ‚Ð¼ÐµÐ½Ð° Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð°)",
            "ÐšÐ»Ð¸Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸: Ñƒ Ð±Ð¾Ð»ÑŒÑˆÐ¸Ð½ÑÑ‚Ð²Ð° Ñ Ð‘ÐÐ  I Ð»Ð¸Ñ‚Ð¸Ð¹ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ÑÑ Ð¿Ð¾Ð¶Ð¸Ð·Ð½ÐµÐ½Ð½Ð¾",
        ],
        "patient_education": [
            "Ð­Ñ‚Ð¾ Ð½Ðµ Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒ â€” ÑÑ‚Ð¾ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð·Ð°Ñ‰Ð¸Ñ‚Ð°",
            "ÐžÑ‚Ð¼ÐµÐ½Ð° Ð»Ð¸Ñ‚Ð¸Ñ = Ñ€Ð¸ÑÐº Ð½Ð¾Ð²Ð¾Ð³Ð¾ ÑÐ¿Ð¸Ð·Ð¾Ð´Ð°",
            "ÐŸÐ¾ÑÐ»Ðµ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ñ… ÑÐ¿Ð¸Ð·Ð¾Ð´Ð¾Ð² Ð¸ Ñ…Ð¾Ñ€Ð¾ÑˆÐµÐ¼ Ð¾Ñ‚Ð²ÐµÑ‚Ðµ â€” Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶ÐµÐ½Ð¸Ðµ Ð»Ð¸Ñ‚Ð¸Ñ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ Ð¿Ð¾Ð¶Ð¸Ð·Ð½ÐµÐ½Ð½Ð¾",
            "Ð•ÑÐ»Ð¸ Ð¾Ñ‚Ð¼ÐµÐ½Ð° Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð° (Ð±ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ) â€” Ð·Ð°Ð±Ð»Ð°Ð³Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾ Ð¸ Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð¾",
        ],
    },
    "ÐšÐ»Ð¾Ð·Ð°Ð¿Ð¸Ð½": {
        "risk": "âŒ Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹ â€” Ñ€ÐµÐ·ÐºÐ°Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ð° Ð²Ñ‹Ð·Ñ‹Ð²Ð°ÐµÑ‚ ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼ Â«Ñ…Ð¾Ð»Ð¸Ð½ÐµÑ€Ð³Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð¾Ñ‚Ð´Ð°Ñ‡Ð¸Â» Ð¸ Ñ€Ð¸ÑÐº Ñ€ÐµÑ†Ð¸Ð´Ð¸Ð²Ð° Ð¿ÑÐ¸Ñ…Ð¾Ð·Ð°",
        "onset": "Ð¥Ð¾Ð»Ð¸Ð½ÐµÑ€Ð³Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¾Ñ‚Ð´Ð°Ñ‡Ð° â€” Ð² Ð¿ÐµÑ€Ð²Ñ‹Ðµ 24â€“48 Ñ‡ Ð¿Ñ€Ð¸ Ñ€ÐµÐ·ÐºÐ¾Ð¹ Ð¾Ñ‚Ð¼ÐµÐ½Ðµ",
        "symptoms": [
            "Ð¥Ð¾Ð»Ð¸Ð½ÐµÑ€Ð³Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¾Ñ‚Ð´Ð°Ñ‡Ð°: Ñ‚Ð¾ÑˆÐ½Ð¾Ñ‚Ð°, Ñ€Ð²Ð¾Ñ‚Ð°, Ð´Ð¸Ð°Ñ€ÐµÑ, Ð¿Ð¾Ñ‚Ð»Ð¸Ð²Ð¾ÑÑ‚ÑŒ, Ñ‚Ð°Ñ…Ð¸ÐºÐ°Ñ€Ð´Ð¸Ñ, Ð³Ð¾Ð»Ð¾Ð²Ð½Ð°Ñ Ð±Ð¾Ð»ÑŒ",
            "Ð ÐµÑ†Ð¸Ð´Ð¸Ð² Ð¿ÑÐ¸Ñ…Ð¾Ð·Ð° â€” Ñ‡Ð°ÑÑ‚Ð¾ Ñ‡ÐµÑ€ÐµÐ· 2â€“4 Ð½ÐµÐ´",
            "Ð“Ð¸Ð¿ÐµÑ€ÑÐ°Ð»Ð¸Ð²Ð°Ñ†Ð¸Ñ",
        ],
        "duration": "Ð¥Ð¾Ð»Ð¸Ð½ÐµÑ€Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼: 1â€“3 Ð½ÐµÐ´; Ñ€ÐµÑ†Ð¸Ð´Ð¸Ð² Ð¿ÑÐ¸Ñ…Ð¾Ð·Ð° â€” Ð²Ð¾Ð·Ð¼Ð¾Ð¶ÐµÐ½ Ð² Ð»ÑŽÐ±Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ",
        "tapering": [
            "âš ï¸ ÐÐ¸ÐºÐ¾Ð³Ð´Ð° Ð½Ðµ Ð¾Ñ‚Ð¼ÐµÐ½ÑÑ‚ÑŒ Ñ€ÐµÐ·ÐºÐ¾!",
            "Ð¡Ð½Ð¸Ð¶Ð°Ñ‚ÑŒ Ð½Ð° 25â€“50 Ð¼Ð³ ÐºÐ°Ð¶Ð´Ñ‹Ðµ 1â€“2 Ð½ÐµÐ´",
            "ÐŸÑ€Ð¸ Ð²Ñ‹Ð½ÑƒÐ¶Ð´ÐµÐ½Ð½Ð¾Ð¹ Ð±Ñ‹ÑÑ‚Ñ€Ð¾Ð¹ Ð¾Ñ‚Ð¼ÐµÐ½Ðµ â€” Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾Ðµ Ð·Ð°Ð¼ÐµÐ´Ð»ÐµÐ½Ð¸Ðµ",
            "ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð½ÐµÐ¹Ñ‚Ñ€Ð¾Ñ„Ð¸Ð»Ð¾Ð² Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð°Ñ‚ÑŒ ÐµÑ‰Ñ‘ 4 Ð½ÐµÐ´ Ð¿Ð¾ÑÐ»Ðµ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹",
        ],
        "symptom_management": [
            "ÐŸÑ€Ð¸ Ñ‚ÑÐ¶Ñ‘Ð»Ð¾Ð¼ Ñ…Ð¾Ð»Ð¸Ð½ÐµÑ€Ð³Ð¸Ñ‡ÐµÑÐºÐ¾Ð¼ ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼Ðµ â€” Ð°Ð½Ñ‚Ð¸Ñ…Ð¾Ð»Ð¸Ð½ÐµÑ€Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¿Ñ€ÐµÐ¿Ð°Ñ€Ð°Ñ‚Ñ‹ (Ð°Ñ‚Ñ€Ð¾Ð¿Ð¸Ð½, ÐµÑÐ»Ð¸ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾)",
            "Ð¢Ñ‰Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ Ð½Ð°Ð±Ð»ÑŽÐ´ÐµÐ½Ð¸Ðµ Ð·Ð° ÑÐ¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ð°Ð¼Ð¸ Ð¿ÑÐ¸Ñ…Ð¾Ð·Ð°",
            "ÐŸÐµÑ€ÐµÑ…Ð¾Ð´ Ð½Ð° Ð´Ñ€ÑƒÐ³Ð¾Ð¹ Ð°Ð½Ñ‚Ð¸Ð¿ÑÐ¸Ñ…Ð¾Ñ‚Ð¸Ðº (Ð´Ð»Ñ ÑÐ½Ð¸Ð¶ÐµÐ½Ð¸Ñ Ñ€Ð¸ÑÐºÐ° Ñ€ÐµÑ†Ð¸Ð´Ð¸Ð²Ð° Ð¿Ñ€Ð¸ Ð½ÐµÐ¸Ð·Ð±ÐµÐ¶Ð½Ð¾Ð¹ Ð¾Ñ‚Ð¼ÐµÐ½Ðµ ÐºÐ»Ð¾Ð·Ð°Ð¿Ð¸Ð½Ð°)",
        ],
        "patient_education": [
            "ÐšÐ»Ð¾Ð·Ð°Ð¿Ð¸Ð½ Ð½ÐµÐ»ÑŒÐ·Ñ Ð¿Ñ€Ð¾Ð¿ÑƒÑÐºÐ°Ñ‚ÑŒ â€” Ð´Ð°Ð¶Ðµ Ð¾Ð´Ð¸Ð½ Ð´ÐµÐ½ÑŒ Ð¼Ð¾Ð¶ÐµÑ‚ Ð²Ñ‹Ð·Ð²Ð°Ñ‚ÑŒ ÑƒÑ…ÑƒÐ´ÑˆÐµÐ½Ð¸Ðµ",
            "ÐŸÑ€Ð¸ Ð¾Ñ‚Ð¼ÐµÐ½Ðµ Ð¿Ð¾ Ð»ÑŽÐ±Ð¾Ð¹ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ðµ â€” Ð½ÐµÐ¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾ ÑÐ¾Ð¾Ð±Ñ‰Ð¸Ñ‚ÑŒ Ð²Ñ€Ð°Ñ‡Ñƒ",
            "Ð’Ð¾Ð·Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ»Ð¾Ð·Ð°Ð¿Ð¸Ð½Ð° Ð¿Ð¾ÑÐ»Ðµ Ð¿ÐµÑ€ÐµÑ€Ñ‹Ð²Ð° >2 Ð´Ð½ÐµÐ¹ â€” Ð½Ð°Ñ‡Ð¸Ð½Ð°Ñ‚ÑŒ Ñ Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð¾Ð·Ñ‹ (12.5â€“25 Ð¼Ð³)",
        ],
    },
}

_CLASS_WITHDRAW: dict[str, dict] = {
    "SSRI": {
        "risk": "âš ï¸ Ð£Ð¼ÐµÑ€ÐµÐ½Ð½Ñ‹Ð¹ â€” Ð²Ð°Ñ€ÑŒÐ¸Ñ€ÑƒÐµÑ‚ Ð² Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð¾Ñ‚ TÂ½ ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ð¾Ð³Ð¾ Ð¿Ñ€ÐµÐ¿Ð°Ñ€Ð°Ñ‚Ð°",
        "key_symptoms": "FINISH-ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼: Flu-like, Insomnia, Nausea, Imbalance, Sensory disturbances (brain zaps), Hyperarousal",
        "tapering_principle": "Ð¡Ð½Ð¸Ð¶Ð°Ñ‚ÑŒ Ð½Ð° 10â€“25% ÐºÐ°Ð¶Ð´Ñ‹Ðµ 2â€“4 Ð½ÐµÐ´. ÐœÑÐ³Ñ‡Ðµ Ð²ÑÐµÐ³Ð¾ â€” Ñ„Ð»ÑƒÐ¾ÐºÑÐµÑ‚Ð¸Ð½ (Ð´Ð»Ð¸Ð½Ð½Ñ‹Ð¹ TÂ½); Ñ‚Ñ€ÑƒÐ´Ð½ÐµÐµ Ð²ÑÐµÐ³Ð¾ â€” Ð¿Ð°Ñ€Ð¾ÐºÑÐµÑ‚Ð¸Ð½, Ñ„Ð»ÑƒÐ²Ð¾ÐºÑÐ°Ð¼Ð¸Ð½.",
        "general_note": "Ð Ð°Ð·Ð»Ð¸Ñ‡Ð°Ñ‚ÑŒ ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ (Ð¾ÑÑ‚Ñ€Ñ‹Ð¹, â‰¤4 Ð½ÐµÐ´) Ð¸ Ñ€ÐµÑ†Ð¸Ð´Ð¸Ð² Ð´ÐµÐ¿Ñ€ÐµÑÑÐ¸Ð¸ (Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ñ‹Ð¹, Ð¿Ð¾ÑÐ»Ðµ 4 Ð½ÐµÐ´).",
    },
    "SNRI": {
        "risk": "âŒ Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹, Ð¾ÑÐ¾Ð±ÐµÐ½Ð½Ð¾ Ð²ÐµÐ½Ð»Ð°Ñ„Ð°ÐºÑÐ¸Ð½ (ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ð¹ TÂ½)",
        "key_symptoms": "FINISH + Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð½Ñ‹Ðµ brain zaps; Ñ‚Ð¾ÑˆÐ½Ð¾Ñ‚Ð°/Ñ€Ð²Ð¾Ñ‚Ð°",
        "tapering_principle": "ÐœÐµÐ´Ð»ÐµÐ½Ð½ÐµÐµ, Ñ‡ÐµÐ¼ SSRI. ÐŸÐµÑ€ÐµÑ…Ð¾Ð´ Ð½Ð° Ñ„Ð»ÑƒÐ¾ÐºÑÐµÑ‚Ð¸Ð½ ÐºÐ°Ðº Â«Ð¼Ð¾ÑÑ‚Â» â€” Ð¿Ñ€Ð¸ Ñ‚Ñ€ÑƒÐ´Ð½Ð¾Ð¹ Ð¾Ñ‚Ð¼ÐµÐ½Ðµ.",
        "general_note": "Ð’ÐµÐ½Ð»Ð°Ñ„Ð°ÐºÑÐ¸Ð½ Ð¸Ð¼ÐµÐµÑ‚ Ð¾Ð´Ð¸Ð½ Ð¸Ð· Ð½Ð°Ð¸Ð±Ð¾Ð»ÑŒÑˆÐ¸Ñ… Ñ€Ð¸ÑÐºÐ¾Ð² ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼Ð° Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ ÑÑ€ÐµÐ´Ð¸ Ð²ÑÐµÑ… Ð°Ð½Ñ‚Ð¸Ð´ÐµÐ¿Ñ€ÐµÑÑÐ°Ð½Ñ‚Ð¾Ð².",
    },
    "TCA": {
        "risk": "âš ï¸ Ð£Ð¼ÐµÑ€ÐµÐ½Ð½Ñ‹Ð¹ â€” Ñ…Ð¾Ð»Ð¸Ð½ÐµÑ€Ð³Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¾Ñ‚Ð´Ð°Ñ‡Ð°",
        "key_symptoms": "Ð¥Ð¾Ð»Ð¸Ð½ÐµÑ€Ð³Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¾Ñ‚Ð´Ð°Ñ‡Ð°: Ñ‚Ð¾ÑˆÐ½Ð¾Ñ‚Ð°, Ñ€Ð²Ð¾Ñ‚Ð°, Ð´Ð¸Ð°Ñ€ÐµÑ, Ð¿Ñ€Ð¾Ñ„ÑƒÐ·Ð½Ñ‹Ð¹ Ð¿Ð¾Ñ‚; Ð²Ð¾Ð·Ð±ÑƒÐ¶Ð´ÐµÐ½Ð¸Ðµ, Ð±ÐµÑÑÐ¾Ð½Ð½Ð¸Ñ†Ð°",
        "tapering_principle": "Ð¡Ð½Ð¸Ð¶Ð°Ñ‚ÑŒ Ð½Ð° 25â€“50 Ð¼Ð³ ÐºÐ°Ð¶Ð´Ñ‹Ðµ 1â€“2 Ð½ÐµÐ´.",
        "general_note": "Ð¥Ð¾Ð»Ð¸Ð½ÐµÑ€Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ ÑÐ¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹ Ð¸Ð·-Ð·Ð° Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ m-Ñ…Ð¾Ð»Ð¸Ð½Ð¾Ð»Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ð¢Ð¦Ð.",
    },
    "MAOI": {
        "risk": "âš ï¸ Ð£Ð¼ÐµÑ€ÐµÐ½Ð½Ñ‹Ð¹",
        "key_symptoms": "Ð¢Ñ€ÐµÐ²Ð¾Ð³Ð°, Ð°Ð¶Ð¸Ñ‚Ð°Ñ†Ð¸Ñ, Ð¸Ð½ÑÐ¾Ð¼Ð½Ð¸Ñ; Ñƒ Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… â€” Ð³Ð¸Ð¿Ð¾Ð¼Ð°Ð½Ð¸Ð°ÐºÐ°Ð»ÑŒÐ½Ñ‹Ðµ ÑÐ¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹",
        "tapering_principle": "ÐœÐµÐ´Ð»ÐµÐ½Ð½Ð°Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ð° Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ðµ 4â€“6 Ð½ÐµÐ´.",
        "general_note": "ÐŸÑ€Ð¸ Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ð¸ Ð½Ð° Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð¿Ñ€ÐµÐ¿Ð°Ñ€Ð°Ñ‚Ñ‹: 14-Ð´Ð½ÐµÐ²Ð½Ñ‹Ð¹ Â«Ð¾Ñ‚Ð¼Ñ‹Ð²Â» Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÐµÐ½ (Ñ€Ð¸ÑÐº ÑÐµÑ€Ð¾Ñ‚Ð¾Ð½Ð¸Ð½Ð¾Ð²Ð¾Ð³Ð¾ ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼Ð°).",
    },
    "ÐÑ‚Ð¸Ð¿Ð¸Ñ‡Ð½Ñ‹Ðµ Ð°Ð½Ñ‚Ð¸Ð¿ÑÐ¸Ñ…Ð¾Ñ‚Ð¸ÐºÐ¸": {
        "risk": "âš ï¸ Ð£Ð¼ÐµÑ€ÐµÐ½Ð½Ñ‹Ð¹ â€” Ð² Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð¼ Ñ€Ð¸ÑÐº Ñ€ÐµÑ†Ð¸Ð´Ð¸Ð²Ð° Ð¿ÑÐ¸Ñ…Ð¾Ð·Ð°, Ð° Ð½Ðµ Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸",
        "key_symptoms": "Ð¢Ð¾ÑˆÐ½Ð¾Ñ‚Ð°, Ñ€Ð²Ð¾Ñ‚Ð° (Ñ…Ð¾Ð»Ð¸Ð½ÐµÑ€Ð³Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¾Ñ‚Ð´Ð°Ñ‡Ð° Ñƒ Ð¿Ñ€ÐµÐ¿Ð°Ñ€Ð°Ñ‚Ð¾Ð² Ñ Ð°Ð½Ñ‚Ð¸Ñ…Ð¾Ð»Ð¸Ð½ÐµÑ€Ð³Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒÑŽ); Ñ€ÐµÑ†Ð¸Ð´Ð¸Ð² Ð¿ÑÐ¸Ñ…Ð¾Ð·Ð°",
        "tapering_principle": "Ð¡Ð½Ð¸Ð¶Ð°Ñ‚ÑŒ Ð½Ð° 10â€“25% Ð´Ð¾Ð·Ñ‹ ÐºÐ°Ð¶Ð´Ñ‹Ðµ 2â€“4 Ð½ÐµÐ´; Ð¿Ñ€Ð¸ ÐºÐ»Ð¾Ð·Ð°Ð¿Ð¸Ð½Ðµ â€” ÐµÑ‰Ñ‘ Ð¼ÐµÐ´Ð»ÐµÐ½Ð½ÐµÐµ.",
        "general_note": "ÐŸÑ€Ð¸ ÑˆÐ¸Ð·Ð¾Ñ„Ñ€ÐµÐ½Ð¸Ð¸ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ Ð¿Ð¾Ð¶Ð¸Ð·Ð½ÐµÐ½Ð½Ð°Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÑŽÑ‰Ð°Ñ Ñ‚ÐµÑ€Ð°Ð¿Ð¸Ñ. Ð’Ð¾Ð¿Ñ€Ð¾Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ â€” Ð²ÑÐµÐ³Ð´Ð° ÐºÐ¾Ð½ÑÐ¸Ð»Ð¸ÑƒÐ¼Ð½Ñ‹Ð¹.",
    },
    "Ð‘ÐµÐ½Ð·Ð¾Ð´Ð¸Ð°Ð·ÐµÐ¿Ð¸Ð½Ñ‹": {
        "risk": "âŒ ÐžÑ‡ÐµÐ½ÑŒ Ð²Ñ‹ÑÐ¾ÐºÐ¸Ð¹ â€” Ñ€Ð¸ÑÐº ÑÑƒÐ´Ð¾Ñ€Ð¾Ð³ Ð¿Ñ€Ð¸ Ñ€ÐµÐ·ÐºÐ¾Ð¹ Ð¾Ñ‚Ð¼ÐµÐ½Ðµ",
        "key_symptoms": "Ð¢Ñ€ÐµÐ²Ð¾Ð³Ð°, Ñ‚Ñ€ÐµÐ¼Ð¾Ñ€, Ð¿Ð¾Ñ‚Ð»Ð¸Ð²Ð¾ÑÑ‚ÑŒ, Ñ‚Ð°Ñ…Ð¸ÐºÐ°Ñ€Ð´Ð¸Ñ, ÑÑƒÐ´Ð¾Ñ€Ð¾Ð³Ð¸ (Ð¿Ñ€Ð¸ Ñ‚ÑÐ¶Ñ‘Ð»Ð¾Ð¹ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸)",
        "tapering_principle": "ÐŸÐµÑ€ÐµÐ²Ð¾Ð´ Ð½Ð° Ð´Ð¸Ð°Ð·ÐµÐ¿Ð°Ð¼ â†’ Ð¿Ð¾ÑÑ‚ÐµÐ¿ÐµÐ½Ð½Ð°Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ð° (5â€“10% Ð´Ð¾Ð·Ñ‹ Ð² Ð½ÐµÐ´). ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ 8â€“12 Ð½ÐµÐ´.",
        "general_note": "Ð ÐµÐ·ÐºÐ°Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ð° Ð¿Ð¾ÑÐ»Ðµ Ð´Ð»Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð³Ð¾ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð²Ñ‹ÑÐ¾ÐºÐ¸Ñ… Ð´Ð¾Ð· â€” Ð–Ð˜Ð—ÐÐ•Ð£Ð“Ð ÐžÐ–ÐÐ®Ð©Ð. Ð¡Ñ‚Ð°Ñ†Ð¸Ð¾Ð½Ð°Ñ€Ð½Ð¾Ðµ Ð²ÐµÐ´ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¸ Ð²Ñ‹ÑÐ¾ÐºÐ¾Ð¼ Ñ€Ð¸ÑÐºÐµ.",
    },
    "Ð¡Ñ‚Ð°Ð±Ð¸Ð»Ð¸Ð·Ð°Ñ‚Ð¾Ñ€Ñ‹ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ñ": {
        "risk": "âš ï¸ Ð£Ð¼ÐµÑ€ÐµÐ½Ð½Ñ‹Ð¹ â€” Ð¿Ñ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾ Ñ€Ð¸ÑÐº Ñ€ÐµÑ†Ð¸Ð´Ð¸Ð²Ð° Ð°Ñ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾Ð³Ð¾ Ñ€Ð°ÑÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð°",
        "key_symptoms": "Ð’Ð°Ð»ÑŒÐ¿Ñ€Ð¾Ð°Ñ‚/Ð»Ð°Ð¼Ð¾Ñ‚Ñ€Ð¸Ð´Ð¶Ð¸Ð½: Ð½ÐµÑ‚ Ð·Ð½Ð°Ñ‡Ð¸Ð¼Ð¾Ð³Ð¾ Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼Ð°; Ð›Ð¸Ñ‚Ð¸Ð¹: Ñ€Ð¸ÑÐº Ñ€ÐµÑ†Ð¸Ð´Ð¸Ð²Ð°; Ð›Ð°Ð¼Ð¾Ñ‚Ñ€Ð¸Ð´Ð¶Ð¸Ð½: Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ñ‹ Ð³Ð¾Ð»Ð¾Ð²Ð½Ð°Ñ Ð±Ð¾Ð»ÑŒ, Ð½Ð°Ñ€ÑƒÑˆÐµÐ½Ð¸Ñ ÑÐ½Ð°",
        "tapering_principle": "ÐœÐµÐ´Ð»ÐµÐ½Ð½Ð°Ñ Ð¾Ñ‚Ð¼ÐµÐ½Ð° (1â€“3 Ð¼ÐµÑ). Ð›Ð¸Ñ‚Ð¸Ð¹ â€” Ð½Ð°Ð¸Ð±Ð¾Ð»ÑŒÑˆÐ¸Ð¹ Ñ€Ð¸ÑÐº Ñ€ÐµÑ†Ð¸Ð´Ð¸Ð²Ð° Ð°Ñ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾Ð³Ð¾ Ñ€Ð°ÑÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð°.",
        "general_note": "ÐœÐ½Ð¾Ð³Ð¸Ð¼ Ð¿Ð°Ñ†Ð¸ÐµÐ½Ñ‚Ð°Ð¼ Ñ Ð‘ÐÐ  ÑÑ‚Ð°Ð±Ð¸Ð»Ð¸Ð·Ð°Ñ‚Ð¾Ñ€Ñ‹ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¸Ñ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÑŽÑ‚ÑÑ Ð¿Ð¾Ð¶Ð¸Ð·Ð½ÐµÐ½Ð½Ð¾.",
    },
    "Z-Ð¿Ñ€ÐµÐ¿Ð°Ñ€Ð°Ñ‚Ñ‹": {
        "risk": "âš ï¸ Ð£Ð¼ÐµÑ€ÐµÐ½Ð½Ñ‹Ð¹ â€” Ñ„Ð¸Ð·Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÑŒ Ð¼ÐµÐ½ÐµÐµ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð°, Ñ‡ÐµÐ¼ Ð¿Ñ€Ð¸ Ð‘Ð—Ð”",
        "key_symptoms": "Ð Ð¸ÐºÐ¾ÑˆÐµÑ‚Ð½Ð°Ñ Ð±ÐµÑÑÐ¾Ð½Ð½Ð¸Ñ†Ð°, Ñ‚Ñ€ÐµÐ²Ð¾Ð³Ð°, Ð³Ð¾Ð»Ð¾Ð²Ð½Ð°Ñ Ð±Ð¾Ð»ÑŒ, Ð¿Ð¾Ñ‚Ð»Ð¸Ð²Ð¾ÑÑ‚ÑŒ",
        "tapering_principle": "Ð¡Ð½Ð¸Ð¶Ð°Ñ‚ÑŒ Ð½Ð° 25% ÐºÐ°Ð¶Ð´Ñ‹Ðµ 1â€“2 Ð½ÐµÐ´. ÐžÐ¶Ð¸Ð´Ð°Ñ‚ÑŒ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾Ð³Ð¾ ÑƒÑ…ÑƒÐ´ÑˆÐµÐ½Ð¸Ñ ÑÐ½Ð°.",
        "general_note": "Ð Ð¸ÐºÐ¾ÑˆÐµÑ‚Ð½Ð°Ñ Ð±ÐµÑÑÐ¾Ð½Ð½Ð¸Ñ†Ð° â€” Ð½Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ Ñ‡Ð°ÑÑ‚ÑŒ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹. ÐŸÐ»Ð°Ð½Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿ÑÐ¸Ñ…Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÑƒÑŽ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÑƒ (Ñ‚ÐµÑ…Ð½Ð¸ÐºÐ¸ ÑÐ½Ð°, ÐšÐŸÐ¢-Ð˜).",
    },
}


def _get_withdraw_info(drug: dict) -> tuple[dict | None, dict | None]:
    name = drug.get("name", "")
    drug_class = drug.get("class", "")
    spec = None
    for key in _WITHDRAW_TABLE:
        if key.lower() == name.lower():
            spec = _WITHDRAW_TABLE[key]
            break
    class_info = _CLASS_WITHDRAW.get(drug_class)
    return spec, class_info


def _build_withdraw_text(drug: dict, spec: dict | None, class_info: dict | None) -> str:
    lines = [
        f"ðŸš« *ÐŸÑ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð» Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹: {drug['name']}*",
        f"ÐšÐ»Ð°ÑÑ: {drug.get('class', 'â€”')}",
        "",
    ]

    if spec:
        lines += [
            f"âš ï¸ *Ð Ð¸ÑÐº ÑÐ¸Ð½Ð´Ñ€Ð¾Ð¼Ð° Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹:* {spec['risk']}",
            f"â° *Ð’Ñ€ÐµÐ¼Ñ Ð½Ð°Ñ‡Ð°Ð»Ð° ÑÐ¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ð¾Ð²:* {spec['onset']}",
            f"ðŸ“… *ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ:* {spec['duration']}",
            "",
            "*Ð¡Ð¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹:*",
        ]
        for sym in spec["symptoms"]:
            lines.append(f"  â€¢ {sym}")

        lines += ["", "*ðŸ“‰ Ð¡Ñ…ÐµÐ¼Ð° Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹:*"]
        for step in spec["tapering"]:
            lines.append(f"  {step}")

        lines += ["", "*ðŸ’Š Ð’ÐµÐ´ÐµÐ½Ð¸Ðµ ÑÐ¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ð¾Ð²:*"]
        for tip in spec["symptom_management"]:
            lines.append(f"  â€¢ {tip}")

        lines += ["", "*ðŸ—£ Ð§Ñ‚Ð¾ Ð¾Ð±ÑŠÑÑÐ½Ð¸Ñ‚ÑŒ Ð¿Ð°Ñ†Ð¸ÐµÐ½Ñ‚Ñƒ:*"]
        for edu in spec["patient_education"]:
            lines.append(f"  â€¢ {edu}")

    elif class_info:
        lines.append(f"_(Ð¡Ð¿ÐµÑ†Ð¸Ñ„Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð½ÐµÑ‚ â€” Ð¾Ð±Ñ‰Ð¸Ðµ Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿Ñ‹ Ð´Ð»Ñ ÐºÐ»Ð°ÑÑÐ° {drug.get('class', 'â€”')})_")
        lines += [
            "",
            f"âš ï¸ *Ð Ð¸ÑÐº:* {class_info['risk']}",
            f"ðŸ”‘ *ÐšÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ ÑÐ¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹:* {class_info['key_symptoms']}",
            f"ðŸ“‰ *ÐŸÑ€Ð¸Ð½Ñ†Ð¸Ð¿ Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹:* {class_info['tapering_principle']}",
            f"ðŸ“Œ *ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ñ:* {class_info['general_note']}",
        ]
    else:
        lines.append("Ð¡Ð¿ÐµÑ†Ð¸Ñ„Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ð¾ Ð¾Ñ‚Ð¼ÐµÐ½Ðµ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾. ÐžÐ±Ñ€Ð°Ñ‚Ð¸Ñ‚ÐµÑÑŒ Ðº Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸.")

    lines += [
        "",
        "âš ï¸ _Ð¡Ñ…ÐµÐ¼Ð° Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ Ð²ÑÐµÐ³Ð´Ð° Ð¸Ð½Ð´Ð¸Ð²Ð¸Ð´ÑƒÐ°Ð»ÑŒÐ½Ð°. "
        "ÐÐ¸ÐºÐ¾Ð³Ð´Ð° Ð½Ðµ Ð¿Ñ€ÐµÐºÑ€Ð°Ñ‰Ð°Ð¹Ñ‚Ðµ Ð¿ÑÐ¸Ñ…Ð¾Ñ‚Ñ€Ð¾Ð¿Ð½Ñ‹Ðµ Ð¿Ñ€ÐµÐ¿Ð°Ñ€Ð°Ñ‚Ñ‹ Ð±ÐµÐ· ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ñ Ð²Ñ€Ð°Ñ‡Ð°._",
    ]
    return "\n".join(lines)


# â”€â”€â”€ Conversation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

async def start_withdraw_guide(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    await update.effective_message.reply_text(
        "ðŸš« *ÐŸÑ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð» Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹ Ð¿Ñ€ÐµÐ¿Ð°Ñ€Ð°Ñ‚Ð¾Ð²*\n\n"
        "Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ ÐœÐÐ Ð¿Ñ€ÐµÐ¿Ð°Ñ€Ð°Ñ‚Ð°:\n"
        "_ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: ÐŸÐ°Ñ€Ð¾ÐºÑÐµÑ‚Ð¸Ð½, Ð’ÐµÐ½Ð»Ð°Ñ„Ð°ÐºÑÐ¸Ð½, Ð”Ð¸Ð°Ð·ÐµÐ¿Ð°Ð¼, ÐšÐ»Ð¾Ð·Ð°Ð¿Ð¸Ð½, Ð›Ð¸Ñ‚Ð¸Ð¹_",
        parse_mode="Markdown",
        reply_markup=back_keyboard("back:main"),
    )
    return WITHDRAW_DRUG


async def withdraw_drug_message(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    name = update.message.text.strip()

    drug = get_drug_by_name(name)
    if not drug:
        results = search_drugs(name)
        drug = results[0] if results else None

    if not drug:
        await update.message.reply_text(
            f"âš ï¸ ÐŸÑ€ÐµÐ¿Ð°Ñ€Ð°Ñ‚ *{name}* Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½ Ð² Ð±Ð°Ð·Ðµ.\n\n"
            "ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð½Ð°Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ ÐœÐÐ (Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼) Ð¸ Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÑÐ½Ð¾Ð²Ð°.",
            parse_mode="Markdown",
        )
        return WITHDRAW_DRUG

    spec, class_info = _get_withdraw_info(drug)
    text = _build_withdraw_text(drug, spec, class_info)
    for i in range(0, len(text), 4000):
        await update.message.reply_text(text[i:i + 4000], parse_mode="Markdown")

    await update.message.reply_text(
        "ÐŸÑ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð» Ð¾Ñ‚Ð¼ÐµÐ½Ñ‹.",
        reply_markup=withdraw_result_keyboard(),
    )
    return WITHDRAW_RESULT


async def withdraw_result_callback(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    query = update.callback_query
    await query.answer()
    data = query.data

    if data == "back:main":
        await query.message.reply_text("Ð“Ð»Ð°Ð²Ð½Ð¾Ðµ Ð¼ÐµÐ½ÑŽ:", reply_markup=main_menu_keyboard())
        return MAIN_MENU

    if data == "wd:again":
        await query.message.reply_text(
            "Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€ÐµÐ¿Ð°Ñ€Ð°Ñ‚Ð°:",
            reply_markup=back_keyboard("back:main"),
        )
        return WITHDRAW_DRUG

    return WITHDRAW_RESULT
