"""Pregnancy & lactation safety: psychotropic drug safety profiles.

Implements the pregnancy-safety skill:
  â€¢ User enters drug name
  â€¢ Bot returns structured safety profile:
    FDA category (historical), teratogenicity, trimester risks,
    lactation/breastfeeding data, RID, clinical guidance
"""

from telegram import Update
from telegram.ext import ContextTypes

from states import PREG_DRUG, PREG_RESULT, MAIN_MENU
from keyboards.menus import preg_result_keyboard, main_menu_keyboard, back_keyboard
from data.drugs import get_drug_by_name, search_drugs


# â”€â”€â”€ Safety profiles â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

_PREG_TABLE: dict[str, dict] = {
    "Ğ¡ĞµÑ€Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ½": {
        "fda_category": "C (Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡ĞµÑĞºĞ¸)",
        "teratogenicity": "ĞĞ¸Ğ·ĞºĞ¸Ğ¹ Ñ€Ğ¸ÑĞº. ĞĞ°Ğ¸Ğ±Ğ¾Ğ»ÑŒÑˆĞ°Ñ Ğ´Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ±Ğ°Ğ·Ğ° ÑÑ€ĞµĞ´Ğ¸ Ğ°Ğ½Ñ‚Ğ¸Ğ´ĞµĞ¿Ñ€ĞµÑÑĞ°Ğ½Ñ‚Ğ¾Ğ² Ğ¿Ñ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸.",
        "trimester_risks": {
            "I": "ĞĞµĞ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ¿Ğ¾Ğ²Ñ‹ÑˆĞµĞ½Ğ½Ñ‹Ğ¹ Ñ€Ğ¸ÑĞº ÑĞµÑ€Ğ´ĞµÑ‡Ğ½Ñ‹Ñ… Ğ´ĞµÑ„ĞµĞºÑ‚Ğ¾Ğ² (Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ñ€ĞµÑ‡Ğ¸Ğ²Ñ‹); Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ¸Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ğ¾",
            "IIâ€“III": "ĞŸĞµÑ€ÑĞ¸ÑÑ‚Ğ¸Ñ€ÑƒÑÑ‰Ğ°Ñ Ğ»Ñ‘Ğ³Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ³Ğ¸Ğ¿ĞµÑ€Ñ‚ĞµĞ½Ğ·Ğ¸Ñ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ñ‹Ñ… (PPHN) â€” Ñ€Ğ¸ÑĞº Ğ¾Ñ‡ĞµĞ½ÑŒ Ğ¼Ğ°Ğ» (<1%)",
            "III": "ĞĞµĞ¾Ğ½Ğ°Ñ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ¸Ğ½Ğ´Ñ€Ğ¾Ğ¼ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ°Ñ†Ğ¸Ğ¸: Ñ€Ğ°Ğ·Ğ´Ñ€Ğ°Ğ¶Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ, Ñ‚Ñ€ĞµĞ¼Ğ¾Ñ€, Ğ½Ğ°Ñ€ÑƒÑˆĞµĞ½Ğ¸Ñ ĞºĞ¾Ñ€Ğ¼Ğ»ĞµĞ½Ğ¸Ñ (Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ½Ñ‹Ğ¹)",
        },
        "breastfeeding": "Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞµĞ½. RID < 2%",
        "rid": "0.5â€“2.3%",
        "breast_note": "ĞĞ´Ğ¸Ğ½ Ğ¸Ğ· Ğ»ÑƒÑ‡ÑˆĞ¸Ñ… Ğ°Ğ½Ñ‚Ğ¸Ğ´ĞµĞ¿Ñ€ĞµÑÑĞ°Ğ½Ñ‚Ğ¾Ğ² Ğ¿Ñ€Ğ¸ Ğ“Ğ’: Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ñ€Ğ¾Ğ½Ğ¸ĞºĞ½Ğ¾Ğ²ĞµĞ½Ğ¸Ğµ Ğ² Ğ³Ñ€ÑƒĞ´Ğ½Ğ¾Ğµ Ğ¼Ğ¾Ğ»Ğ¾ĞºĞ¾, Ğ¾Ğ±ÑˆĞ¸Ñ€Ğ½Ğ°Ñ Ğ´Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ±Ğ°Ğ·Ğ°.",
        "recommendation": "âœ… ĞŸÑ€ĞµĞ¿Ğ°Ñ€Ğ°Ñ‚ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ¿Ñ€Ğ¸ Ğ´ĞµĞ¿Ñ€ĞµÑÑĞ¸Ğ¸/Ñ‚Ñ€ĞµĞ²Ğ¾Ğ³Ğµ Ñƒ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ñ…. ĞŸĞ¾Ğ»ÑŒĞ·Ğ° Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ñ ĞĞ‘Ğ«Ğ§ĞĞ Ğ¿Ñ€ĞµĞ²Ñ‹ÑˆĞ°ĞµÑ‚ Ñ€Ğ¸ÑĞºĞ¸. ĞĞµ Ğ¾Ñ‚Ğ¼ĞµĞ½ÑÑ‚ÑŒ Ğ±ĞµĞ· ĞºĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ°Ñ†Ğ¸Ğ¸.",
        "references": ["ACOG Practice Bulletin 2018", "CANMAT 2016", "Lactmed NCBI"],
    },
    "Ğ¤Ğ»ÑƒĞ¾ĞºÑĞµÑ‚Ğ¸Ğ½": {
        "fda_category": "C",
        "teratogenicity": "ĞĞ°Ğ¸Ğ±Ğ¾Ğ»ÑŒÑˆĞ°Ñ Ğ´Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ±Ğ°Ğ·Ğ° ÑÑ€ĞµĞ´Ğ¸ SSRI; Ğ² Ñ†ĞµĞ»Ğ¾Ğ¼ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞµĞ½.",
        "trimester_risks": {
            "I": "Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾ ÑĞµÑ€Ğ´ĞµÑ‡Ğ½Ñ‹Ñ… Ğ´ĞµÑ„ĞµĞºÑ‚Ğ°Ñ… Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ñ€ĞµÑ‡Ğ¸Ğ²Ñ‹; Ñ€Ğ¸ÑĞº ĞºÑ€Ğ°Ğ¹Ğ½Ğµ Ğ¼Ğ°Ğ»",
            "III": "ĞĞµĞ¾Ğ½Ğ°Ñ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ¸Ğ½Ğ´Ñ€Ğ¾Ğ¼ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ°Ñ†Ğ¸Ğ¸; PPHN (Ñ€ĞµĞ´ĞºĞ¾)",
        },
        "breastfeeding": "ĞÑ‚Ğ½Ğ¾ÑĞ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞµĞ½. RID ~1.5â€“3%",
        "rid": "1.5â€“3.3%",
        "breast_note": "ĞŸÑ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ÑÑ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ñ‹Ğ¼ Ñ‡ĞµÑ€ĞµĞ· Ğ¼Ğ¾Ğ»Ğ¾ĞºĞ¾; Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğ½ÑÑ‚Ğ²Ğ¾ Ğ¸ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ğ½Ğµ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ÑÑ‚ ĞºĞ»Ğ¸Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ·Ğ½Ğ°Ñ‡Ğ¸Ğ¼Ñ‹Ñ… ÑÑ„Ñ„ĞµĞºÑ‚Ğ¾Ğ².",
        "recommendation": "âœ… ĞŸÑ€Ğ¸ĞµĞ¼Ğ»ĞµĞ¼ Ğ¿Ñ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¸ Ğ“Ğ’. ĞŸÑ€ĞµĞ´Ğ¿Ğ¾Ñ‡Ñ‚Ğ¸Ñ‚ĞµĞ»ÑŒĞ½ĞµĞµ ÑĞµÑ€Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ½ Ğ¸Ğ·-Ğ·Ğ° Ğ½ĞµĞ¼Ğ½Ğ¾Ğ³Ğ¾ Ğ±Ğ¾Ğ»ÑŒÑˆĞµĞ³Ğ¾ RID Ğ¸ Ğ´Ğ»Ğ¸Ğ½Ğ½Ğ¾Ğ³Ğ¾ TÂ½.",
        "references": ["Lactmed NCBI", "ACOG 2018"],
    },
    "Ğ­ÑÑ†Ğ¸Ñ‚Ğ°Ğ»Ğ¾Ğ¿Ñ€Ğ°Ğ¼": {
        "fda_category": "C",
        "teratogenicity": "Ğ¡Ğ¾Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²Ğ¸Ğ¼ Ñ ÑĞµÑ€Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ½Ğ¾Ğ¼; Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ½ĞµĞµ.",
        "trimester_risks": {
            "I": "ĞÑ‡ĞµĞ½ÑŒ Ğ½ĞµĞ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ñ€Ğ¸ÑĞº Ğ’ĞŸĞ¡ (Ğ½ĞµÑ‚ ÑƒĞ±ĞµĞ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…)",
            "III": "ĞĞµĞ¾Ğ½Ğ°Ñ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ¸Ğ½Ğ´Ñ€Ğ¾Ğ¼ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ°Ñ†Ğ¸Ğ¸; PPHN",
        },
        "breastfeeding": "ĞÑ‚Ğ½Ğ¾ÑĞ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞµĞ½. RID ~5%",
        "rid": "3.9â€“5.3%",
        "breast_note": "RID Ğ²Ñ‹ÑˆĞµ, Ñ‡ĞµĞ¼ Ñƒ ÑĞµÑ€Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ½Ğ°; ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ² ĞºÑ€Ğ¾Ğ²Ğ¸ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ñ‹Ñ… Ğ½Ğ¸Ğ·ĞºĞ¸Ğ¹, ĞºĞ»Ğ¸Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ·Ğ½Ğ°Ñ‡Ğ¸Ğ¼Ñ‹Ğµ ÑÑ„Ñ„ĞµĞºÑ‚Ñ‹ Ñ€ĞµĞ´ĞºĞ¸.",
        "recommendation": "âš ï¸ Ğ’Ñ‚Ğ¾Ñ€Ğ¾Ğ¹ Ğ²Ñ‹Ğ±Ğ¾Ñ€ Ğ¿Ğ¾ÑĞ»Ğµ ÑĞµÑ€Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ½Ğ° Ğ¿Ñ€Ğ¸ Ğ“Ğ’ (Ğ±Ğ¾Ğ»ĞµĞµ Ğ²Ñ‹ÑĞ¾ĞºĞ¸Ğ¹ RID). ĞŸÑ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ â€” Ğ¿Ñ€Ğ¸ĞµĞ¼Ğ»ĞµĞ¼.",
        "references": ["Lactmed NCBI"],
    },
    "ĞŸĞ°Ñ€Ğ¾ĞºÑĞµÑ‚Ğ¸Ğ½": {
        "fda_category": "D",
        "teratogenicity": "âš ï¸ ĞŸĞ¾Ğ²Ñ‹ÑˆĞµĞ½Ğ½Ñ‹Ğ¹ Ñ€Ğ¸ÑĞº ÑĞµÑ€Ğ´ĞµÑ‡Ğ½Ñ‹Ñ… Ğ´ĞµÑ„ĞµĞºÑ‚Ğ¾Ğ² (Ğ¿Ñ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ Ğ”ĞœĞŸĞŸ): RR ~1.5â€“2 Ğ² Ğ½ĞµĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ñ… Ğ¸ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸ÑÑ….",
        "trimester_risks": {
            "I": "âš ï¸ Ğ Ğ¸ÑĞº Ğ’ĞŸĞ¡ (Ğ¿Ñ€Ğ°Ğ²Ñ‹Ğµ Ğ¾Ñ‚Ğ´ĞµĞ»Ñ‹ ÑĞµÑ€Ğ´Ñ†Ğ°). Ğ˜Ğ·Ğ±ĞµĞ³Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¸ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ² Ğ¿ĞµÑ€Ğ²Ğ¾Ğ¼ Ñ‚Ñ€Ğ¸Ğ¼ĞµÑÑ‚Ñ€Ğµ.",
            "III": "ĞĞµĞ¾Ğ½Ğ°Ñ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ¸Ğ½Ğ´Ñ€Ğ¾Ğ¼ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ°Ñ†Ğ¸Ğ¸ â€” Ğ²Ñ‹Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ‹Ğ¹ (ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¸Ğ¹ TÂ½ â†’ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾Ğµ Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ğµ ÑƒÑ€Ğ¾Ğ²Ğ½Ñ Ñƒ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ğ¾Ğ³Ğ¾)",
        },
        "breastfeeding": "RID Ğ½Ğ¸Ğ·ĞºĞ¸Ğ¹ (~1%). ĞŸÑ€Ğ¾Ğ½Ğ¸ĞºĞ½Ğ¾Ğ²ĞµĞ½Ğ¸Ğµ Ğ² Ğ¼Ğ¾Ğ»Ğ¾ĞºĞ¾ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ.",
        "rid": "0.5â€“2.8%",
        "breast_note": "ĞĞ¸Ğ·ĞºĞ¸Ğ¹ RID â€” Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ¿Ñ€Ğ¸ Ğ“Ğ’ ĞµÑĞ»Ğ¸ ÑƒĞ¶Ğµ Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚; Ğ½Ğµ Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¹ Ğ²Ñ‹Ğ±Ğ¾Ñ€ Ğ¿Ñ€Ğ¸ Ğ½Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğ¸ de novo.",
        "recommendation": "âš ï¸ Ğ˜Ğ·Ğ±ĞµĞ³Ğ°Ñ‚ÑŒ Ğ¿Ñ€Ğ¸ Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¸ Ğ² I Ñ‚Ñ€Ğ¸Ğ¼ĞµÑÑ‚Ñ€Ğµ. Ğ•ÑĞ»Ğ¸ Ğ¿Ğ°Ñ†Ğ¸ĞµĞ½Ñ‚ĞºĞ° ÑƒĞ¶Ğµ Ğ¿Ñ€Ğ¸Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ Ğ¸ Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¾ Ğ¾Ñ‚Ğ²ĞµÑ‡Ğ°ĞµÑ‚ â€” Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ¸Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğµ Ñ ÑƒÑ‡Ñ‘Ñ‚Ğ¾Ğ¼ Ñ€Ğ¸ÑĞºĞ¾Ğ² Ğ¾Ñ‚Ğ¼ĞµĞ½Ñ‹.",
        "references": ["ACOG 2018", "Lactmed NCBI"],
    },
    "Ğ’ĞµĞ½Ğ»Ğ°Ñ„Ğ°ĞºÑĞ¸Ğ½": {
        "fda_category": "C",
        "teratogenicity": "Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ñ‹; Ğ² Ñ†ĞµĞ»Ğ¾Ğ¼ Ğ½Ğµ Ñ‚ĞµÑ€Ğ°Ñ‚Ğ¾Ğ³ĞµĞ½ Ğ¿Ğ¾ Ğ¸Ğ¼ĞµÑÑ‰Ğ¸Ğ¼ÑÑ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼.",
        "trimester_risks": {
            "I": "Ğ”Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¼ĞµĞ½ÑŒÑˆĞµ, Ñ‡ĞµĞ¼ Ğ´Ğ»Ñ SSRI; Ğ¿Ñ€ĞµĞ´Ğ¿Ğ¾Ğ»Ğ°Ğ³Ğ°ĞµÑ‚ÑÑ ÑĞ¾Ğ¿Ğ¾ÑÑ‚Ğ°Ğ²Ğ¸Ğ¼Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ",
            "III": "âš ï¸ Ğ’Ñ‹Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ½ĞµĞ¾Ğ½Ğ°Ñ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ¸Ğ½Ğ´Ñ€Ğ¾Ğ¼ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ°Ñ†Ğ¸Ğ¸ (ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¸Ğ¹ TÂ½, ÑĞ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ¸Ğ½Ğ´Ñ€Ğ¾Ğ¼ Ğ¾Ñ‚Ğ¼ĞµĞ½Ñ‹)",
        },
        "breastfeeding": "RID ~7â€“8%. Ğ£Ğ¼ĞµÑ€ĞµĞ½Ğ½Ğ¾Ğµ Ğ¿Ñ€Ğ¾Ğ½Ğ¸ĞºĞ½Ğ¾Ğ²ĞµĞ½Ğ¸Ğµ.",
        "rid": "6.4â€“8.1%",
        "breast_note": "Ğ‘Ğ¾Ğ»ĞµĞµ Ğ²Ñ‹ÑĞ¾ĞºĞ¸Ğ¹ RID, Ñ‡ĞµĞ¼ Ñƒ SSRI; Ğ½ĞµĞ¶ĞµĞ»Ğ°Ñ‚ĞµĞ»ĞµĞ½ Ğ¿Ñ€Ğ¸ Ğ“Ğ’. ĞŸÑ€ĞµĞ´Ğ¿Ğ¾Ñ‡ĞµÑÑ‚ÑŒ ÑĞµÑ€Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ½ Ğ¿Ñ€Ğ¸ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸.",
        "recommendation": "âš ï¸ Ğ’Ñ‚Ğ¾Ñ€Ğ¾Ğ¹â€“Ñ‚Ñ€ĞµÑ‚Ğ¸Ğ¹ Ğ²Ñ‹Ğ±Ğ¾Ñ€ Ğ¿Ñ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸. Ğ—Ğ½Ğ°Ñ‡Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ¸Ğ½Ğ´Ñ€Ğ¾Ğ¼ Ğ¾Ñ‚Ğ¼ĞµĞ½Ñ‹ Ğ¿Ñ€Ğ¸ Ğ¿Ñ€ĞµĞºÑ€Ğ°Ñ‰ĞµĞ½Ğ¸Ğ¸ Ğ² III Ñ‚Ñ€Ğ¸Ğ¼ĞµÑÑ‚Ñ€Ğµ â€” Ğ½Ğµ Ğ¿Ñ€ĞµĞºÑ€Ğ°Ñ‰Ğ°Ñ‚ÑŒ Ñ€ĞµĞ·ĞºĞ¾.",
        "references": ["Lactmed NCBI"],
    },
    "Ğ”ÑƒĞ»Ğ¾ĞºÑĞµÑ‚Ğ¸Ğ½": {
        "fda_category": "C",
        "teratogenicity": "Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ñ‹; Ğ½Ğµ Ğ²Ñ‹ÑĞ²Ğ»ĞµĞ½ ĞºĞ°Ğº Ñ‚ĞµÑ€Ğ°Ñ‚Ğ¾Ğ³ĞµĞ½.",
        "trimester_risks": {
            "III": "ĞĞµĞ¾Ğ½Ğ°Ñ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ¸Ğ½Ğ´Ñ€Ğ¾Ğ¼ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ°Ñ†Ğ¸Ğ¸; PPHN (Ñ€ĞµĞ´ĞºĞ¾)",
        },
        "breastfeeding": "RID Ğ½Ğ¸Ğ·ĞºĞ¸Ğ¹ (~0.5%).",
        "rid": "0.1â€“1%",
        "breast_note": "ĞĞ¸Ğ·ĞºĞ¸Ğ¹ RID; Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ñ‹, Ğ½Ğ¾ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğµ Ğ¾Ğ±Ğ½Ğ°Ğ´Ñ‘Ğ¶Ğ¸Ğ²Ğ°ÑÑ‰Ğ¸Ğµ.",
        "recommendation": "âš ï¸ ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸. ĞŸÑ€ĞµĞ´Ğ¿Ğ¾Ñ‡Ñ‚Ğ¸Ñ‚ĞµĞ»ÑŒĞ½ĞµĞµ SSRI Ñ Ğ±Ğ¾Ğ»ÑŒÑˆĞµĞ¹ Ğ´Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ¹ Ğ±Ğ°Ğ·Ğ¾Ğ¹.",
        "references": ["Lactmed NCBI"],
    },
    "ĞĞ¼Ğ¸Ñ‚Ñ€Ğ¸Ğ¿Ñ‚Ğ¸Ğ»Ğ¸Ğ½": {
        "fda_category": "C",
        "teratogenicity": "Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ñ€ĞµÑ‡Ğ¸Ğ²Ñ‹; ĞºĞ°Ñ€Ğ´Ğ¸Ğ¾Ñ‚Ğ¾ĞºÑĞ¸Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ Ğ² Ğ²Ñ‹ÑĞ¾ĞºĞ¸Ñ… Ğ´Ğ¾Ğ·Ğ°Ñ…. ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸.",
        "trimester_risks": {
            "I": "Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾ Ğ’ĞŸĞ¡: Ğ½ĞµĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ¸ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ÑÑ‚ Ğ½ĞµĞ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ñ€Ğ¸ÑĞº",
            "III": "ĞĞµĞ¾Ğ½Ğ°Ñ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ¸Ğ½Ğ´Ñ€Ğ¾Ğ¼ Ğ¾Ñ‚Ğ¼ĞµĞ½Ñ‹; Ñ‚Ğ°Ñ…Ğ¸ĞºĞ°Ñ€Ğ´Ğ¸Ñ Ñƒ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ñ‹Ñ…",
        },
        "breastfeeding": "RID ~1.5â€“2.5%. Ğ£Ğ¼ĞµÑ€ĞµĞ½Ğ½Ğ¾ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞµĞ½.",
        "rid": "1.4â€“2.5%",
        "breast_note": "ĞĞ¸Ğ·ĞºĞ¸Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ² Ğ¼Ğ¾Ğ»Ğ¾ĞºĞµ; ĞºĞ»Ğ¸Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ·Ğ½Ğ°Ñ‡Ğ¸Ğ¼Ñ‹Ğµ ÑÑ„Ñ„ĞµĞºÑ‚Ñ‹ Ñƒ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ñ‹Ñ… Ñ€ĞµĞ´ĞºĞ¸. Ğ”Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¼ĞµĞ½ÑŒÑˆĞµ, Ñ‡ĞµĞ¼ Ğ´Ğ»Ñ SSRI.",
        "recommendation": "âš ï¸ ĞĞµ Ğ¿Ñ€ĞµĞ¿Ğ°Ñ€Ğ°Ñ‚ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ³Ğ¾ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ¿Ñ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸. ĞŸÑ€Ğ¸ Ğ½ĞµĞ¹Ñ€Ğ¾Ğ¿Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ¹ Ğ±Ğ¾Ğ»Ğ¸ Ğ¸Ğ»Ğ¸ Ğ½Ğ°Ñ€ÑƒÑˆĞµĞ½Ğ¸Ğ¸ ÑĞ½Ğ° Ğ½Ğ¸Ğ·ĞºĞ¸Ğµ Ğ´Ğ¾Ğ·Ñ‹ (10â€“25 Ğ¼Ğ³) â€” Ğ´Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ğ¼Ñ‹ Ğ¿Ğ¾ ÑĞ¾Ğ³Ğ»Ğ°ÑĞ¾Ğ²Ğ°Ğ½Ğ¸Ñ.",
        "references": ["Lactmed NCBI"],
    },
    "Ğ’Ğ°Ğ»ÑŒĞ¿Ñ€Ğ¾Ğ°Ñ‚": {
        "fda_category": "D/X",
        "teratogenicity": "âŒ Ğ’Ñ‹ÑĞ¾ĞºĞ¾Ñ‚ĞµÑ€Ğ°Ñ‚Ğ¾Ğ³ĞµĞ½ĞµĞ½. Ğ Ğ¸ÑĞº Ğ´ĞµÑ„ĞµĞºÑ‚Ğ¾Ğ² Ğ½ĞµÑ€Ğ²Ğ½Ğ¾Ğ¹ Ñ‚Ñ€ÑƒĞ±ĞºĞ¸ 1â€“2%, Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ Ğ’ĞŸĞ¡, ĞºÑ€Ğ°Ğ½Ğ¸Ğ¾Ñ„Ğ°Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ°Ğ½Ğ¾Ğ¼Ğ°Ğ»Ğ¸Ğ¸.",
        "trimester_risks": {
            "I": "âŒ Ğ”ĞµÑ„ĞµĞºÑ‚Ñ‹ Ğ½ĞµÑ€Ğ²Ğ½Ğ¾Ğ¹ Ñ‚Ñ€ÑƒĞ±ĞºĞ¸, Ğ’ĞŸĞ¡. ĞĞ‘Ğ¡ĞĞ›Ğ®Ğ¢ĞĞ ĞŸĞ ĞĞ¢Ğ˜Ğ’ĞĞŸĞĞšĞĞ—ĞĞ.",
            "II": "âŒ Ğ§ĞµÑ€ĞµĞ¿Ğ½Ğ¾-Ğ»Ğ¸Ñ†ĞµĞ²Ñ‹Ğµ Ğ°Ğ½Ğ¾Ğ¼Ğ°Ğ»Ğ¸Ğ¸, ĞºĞ¾Ğ³Ğ½Ğ¸Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ğ½Ğ°Ñ€ÑƒÑˆĞµĞ½Ğ¸Ñ Ñƒ Ñ€ĞµĞ±Ñ‘Ğ½ĞºĞ° (IQ ÑĞ½Ğ¸Ğ¶ĞµĞ½ Ğ½Ğ° 6â€“9 Ğ¿ÑƒĞ½ĞºÑ‚Ğ¾Ğ² Ğ¿Ğ¾ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼ NEAD)",
            "III": "ĞšĞ¾Ğ°Ğ³ÑƒĞ»Ğ¾Ğ¿Ğ°Ñ‚Ğ¸Ñ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ğ¾Ğ³Ğ¾, Ğ½ĞµĞ¾Ğ½Ğ°Ñ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ³Ğ¸Ğ¿Ğ¾Ğ³Ğ»Ğ¸ĞºĞµĞ¼Ğ¸Ñ",
        },
        "breastfeeding": "RID Ğ½Ğ¸Ğ·ĞºĞ¸Ğ¹ (~1%). Ğ“Ñ€ÑƒĞ´Ğ½Ğ¾Ğµ Ğ²ÑĞºĞ°Ñ€Ğ¼Ğ»Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾.",
        "rid": "0.9â€“1.5%",
        "breast_note": "ĞĞµÑĞ¼Ğ¾Ñ‚Ñ€Ñ Ğ½Ğ° Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¸ Ğ“Ğ’, ÑĞ°Ğ¼ Ğ¿Ñ€ĞµĞ¿Ğ°Ñ€Ğ°Ñ‚ Ğ¿Ñ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½ â†’ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ Ğ“Ğ’ Ğ²Ğ¾Ğ·Ğ½Ğ¸ĞºĞ°ĞµÑ‚ Ñ€ĞµĞ´ĞºĞ¾.",
        "recommendation": "âŒ ĞĞ‘Ğ¡ĞĞ›Ğ®Ğ¢ĞĞ ĞŸĞ ĞĞ¢Ğ˜Ğ’ĞĞŸĞĞšĞĞ—ĞĞ Ğ¿Ñ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸. ĞŸÑ€Ğ¸ Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ â€” Ğ·Ğ°Ğ±Ğ»Ğ°Ğ³Ğ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´ Ğ½Ğ° Ğ»Ğ°Ğ¼Ğ¾Ñ‚Ñ€Ğ¸Ğ´Ğ¶Ğ¸Ğ½ Ğ¸Ğ»Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹ Ğ¿Ñ€ĞµĞ¿Ğ°Ñ€Ğ°Ñ‚. ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ° Ğ½Ğ°Ğ´Ñ‘Ğ¶Ğ½Ğ°Ñ ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°Ñ†ĞµĞ¿Ñ†Ğ¸Ñ.",
        "references": ["EMA PRAC 2018", "ACOG 2019", "FDA 2011"],
    },
    "Ğ›Ğ°Ğ¼Ğ¾Ñ‚Ñ€Ğ¸Ğ´Ğ¶Ğ¸Ğ½": {
        "fda_category": "C",
        "teratogenicity": "ĞÑ‚Ğ½Ğ¾ÑĞ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞµĞ½; Ñ€Ğ¸ÑĞº Ğ½ĞµĞ±Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¹. ĞĞ°Ğ¸Ğ±Ğ¾Ğ»ÑŒÑˆĞ°Ñ Ğ´Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ğ±Ğ°Ğ·Ğ° ÑÑ€ĞµĞ´Ğ¸ ÑÑ‚Ğ°Ğ±Ğ¸Ğ»Ğ¸Ğ·Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ².",
        "trimester_risks": {
            "I": "ĞĞµĞ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ğ¾Ñ‚ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ñ€Ğ¸ÑĞº Ñ€Ğ°ÑÑ‰ĞµĞ»Ğ¸Ğ½Ñ‹ Ğ½Ñ‘Ğ±Ğ° (Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ñ€ĞµÑ‡Ğ¸Ğ²Ñ‹, Ğ°Ğ±ÑĞ¾Ğ»ÑÑ‚Ğ½Ñ‹Ğ¹ Ñ€Ğ¸ÑĞº Ğ¼Ğ°Ğ»)",
            "IIâ€“III": "Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ»Ğ°Ğ¼Ğ¾Ñ‚Ñ€Ğ¸Ğ´Ğ¶Ğ¸Ğ½Ğ° â†“ Ğ¿Ñ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ (â†‘ Ğ¼ĞµÑ‚Ğ°Ğ±Ğ¾Ğ»Ğ¸Ğ·Ğ¼) â†’ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ¸ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ†Ğ¸Ñ Ğ´Ğ¾Ğ·Ñ‹",
        },
        "breastfeeding": "âš ï¸ RID ~8â€“9%. Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ² ĞºÑ€Ğ¾Ğ²Ğ¸ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ğ¾Ğ³Ğ¾ = 30â€“50% Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸Ğ½ÑĞºĞ¾Ğ³Ğ¾.",
        "rid": "7.7â€“9.2%",
        "breast_note": "Ğ£Ğ¼ĞµÑ€ĞµĞ½Ğ½Ñ‹Ğ¹ RID; Ğ°Ğ¿Ğ½Ğ¾Ñ Ñƒ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ñ‹Ñ… â€” Ñ€ĞµĞ´ĞºĞ¸Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ. ĞšĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ñ€ĞµĞ±Ñ‘Ğ½ĞºĞ°. ĞĞµĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ñ€ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ° Ğ´Ğ¾Ğ¿ÑƒÑĞºĞ°ÑÑ‚ Ğ¿Ñ€Ğ¸ Ğ“Ğ’ Ñ Ğ½Ğ°Ğ±Ğ»ÑĞ´ĞµĞ½Ğ¸ĞµĞ¼.",
        "recommendation": "âœ… ĞŸÑ€ĞµĞ¿Ğ°Ñ€Ğ°Ñ‚ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ¿Ñ€Ğ¸ Ğ‘ĞĞ  Ñƒ Ğ¶ĞµĞ½Ñ‰Ğ¸Ğ½ Ñ€ĞµĞ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ³Ğ¾ Ğ²Ğ¾Ğ·Ñ€Ğ°ÑÑ‚Ğ°. ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ñ TDM â€” ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ â†“ Ğ½Ğ° 50â€“65%, Ğ´Ğ¾Ğ·Ğ° Ñ‡Ğ°ÑÑ‚Ğ¾ Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ â†‘. ĞĞ±ÑÑƒĞ´Ğ¸Ñ‚ÑŒ Ğ“Ğ’ Ñ Ğ¿ĞµĞ´Ğ¸Ğ°Ñ‚Ñ€Ğ¾Ğ¼.",
        "references": ["ACOG 2019", "Lactmed NCBI", "Tomson et al., Lancet 2018"],
    },
    "Ğ›Ğ¸Ñ‚Ğ¸Ğ¹": {
        "fda_category": "D",
        "teratogenicity": "âš ï¸ Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡ĞµÑĞºĞ¸: Ğ°Ğ½Ğ¾Ğ¼Ğ°Ğ»Ğ¸Ñ Ğ­Ğ±ÑˆÑ‚ĞµĞ¹Ğ½Ğ° (Ñ€Ğ¸ÑĞº ~0.05â€“0.1% â€” Ğ²Ñ‹ÑˆĞµ Ğ¿Ğ¾Ğ¿ÑƒĞ»ÑÑ†Ğ¸Ğ¾Ğ½Ğ½Ğ¾Ğ³Ğ¾, Ğ½Ğ¾ Ğ°Ğ±ÑĞ¾Ğ»ÑÑ‚Ğ½Ğ¾ Ğ¼Ğ°Ğ»). Ğ¡Ğ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ: ÑƒĞ¼ĞµÑ€ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ€Ğ¸ÑĞº Ğ’ĞŸĞ¡.",
        "trimester_risks": {
            "I": "âš ï¸ ĞĞ½Ğ¾Ğ¼Ğ°Ğ»Ğ¸Ñ Ğ­Ğ±ÑˆÑ‚ĞµĞ¹Ğ½Ğ° â€” Ğ­Ñ…Ğ¾ĞšĞ“ Ğ¿Ğ»Ğ¾Ğ´Ğ° Ğ² 18â€“20 Ğ½ĞµĞ´. Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ¾ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½Ğ¸Ğ¸ â€” Ğ¸Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ğ¾.",
            "III": "Ğ¢Ğ¾ĞºÑĞ¸Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ Ğ»Ğ¸Ñ‚Ğ¸Ñ Ñƒ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ğ¾Ğ³Ğ¾: Ğ»ĞµÑ‚Ğ°Ñ€Ğ³Ğ¸Ñ, Ğ³Ğ¸Ğ¿Ğ¾Ñ‚Ğ¾Ğ½Ğ¸Ñ, Ñ†Ğ¸Ğ°Ğ½Ğ¾Ğ·. â†“ Ğ´Ğ¾Ğ·Ñƒ Ğ¿ĞµÑ€ĞµĞ´ Ñ€Ğ¾Ğ´Ğ°Ğ¼Ğ¸ (Ğ¸Ğ»Ğ¸ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ Ğ¾Ñ‚Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ·Ğ° 24â€“48 Ñ‡).",
        },
        "breastfeeding": "âŒ ĞĞµ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ. RID 12â€“30%. Ğ’Ñ‹ÑĞ¾ĞºĞ¸Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ² ĞºÑ€Ğ¾Ğ²Ğ¸ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ğ¾Ğ³Ğ¾.",
        "rid": "12â€“30.1%",
        "breast_note": "âŒ Ğ›Ğ¸Ñ‚Ğ¸Ğ¹ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ Ğ¿Ñ€Ğ¾Ğ½Ğ¸ĞºĞ°ĞµÑ‚ Ğ² Ğ¼Ğ¾Ğ»Ğ¾ĞºĞ¾. Ğ¢Ğ¾ĞºÑĞ¸Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ Ñƒ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ñ‹Ñ…: Ğ¾Ğ±ĞµĞ·Ğ²Ğ¾Ğ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ â†’ ĞºĞ¾Ğ½Ñ†ĞµĞ½Ñ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ»Ğ¸Ñ‚Ğ¸Ñ â†‘. ĞšĞ°Ğº Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ¾, Ğ¾Ñ‚ĞºĞ°Ğ· Ğ¾Ñ‚ Ğ“Ğ’.",
        "recommendation": "âš ï¸ Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ¾ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½Ğ¸Ğ¸ Ğ¿Ñ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ â€” Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ñ Ğ¿ÑĞ¸Ñ…Ğ¸Ğ°Ñ‚Ñ€Ğ¾Ğ¼ Ğ¸ Ğ°ĞºÑƒÑˆĞµÑ€Ğ¾Ğ¼. ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ ÑƒÑ€Ğ¾Ğ²Ğ½Ñ Li (Ğ¼ĞµĞ½ÑĞµÑ‚ÑÑ Ğ¿Ñ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¸ Ğ² Ñ€Ğ¾Ğ´Ğ°Ñ…). Ğ“Ğ’ â€” ĞºĞ°Ğº Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ¾, Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½Ğ¾.",
        "references": ["ACOG 2019", "Gentile 2012", "Lactmed NCBI"],
    },
    "ĞšĞ»Ğ¾Ğ·Ğ°Ğ¿Ğ¸Ğ½": {
        "fda_category": "B",
        "teratogenicity": "Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ñ‹; Ğ½Ğµ Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ ĞºĞ°Ğº Ñ‚ĞµÑ€Ğ°Ñ‚Ğ¾Ğ³ĞµĞ½ Ğ² Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ñ… Ğ¸ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸ÑÑ….",
        "trimester_risks": {
            "Ğ’ÑĞµ": "ĞĞ³Ñ€Ğ°Ğ½ÑƒĞ»Ğ¾Ñ†Ğ¸Ñ‚Ğ¾Ğ· Ñƒ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ğ¾Ğ³Ğ¾ (ĞµĞ´Ğ¸Ğ½Ğ¸Ñ‡Ğ½Ñ‹Ğµ ÑĞ»ÑƒÑ‡Ğ°Ğ¸). ĞœĞµÑ‚Ğ°Ğ±Ğ¾Ğ»Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑÑ„Ñ„ĞµĞºÑ‚Ñ‹ Ñƒ Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸.",
        },
        "breastfeeding": "âŒ ĞŸÑ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½. ĞŸÑ€Ğ¾Ğ½Ğ¸ĞºĞ°ĞµÑ‚ Ğ² Ğ¼Ğ¾Ğ»Ğ¾ĞºĞ¾; Ğ°Ğ³Ñ€Ğ°Ğ½ÑƒĞ»Ğ¾Ñ†Ğ¸Ñ‚Ğ¾Ğ· Ñƒ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ğ¾Ğ³Ğ¾ â€” Ñ€Ğ¸ÑĞº.",
        "rid": "~1.5% (Ğ½Ğ¾ Ğ°Ğ±ÑĞ¾Ğ»ÑÑ‚Ğ½Ğ°Ñ Ñ‚Ğ¾ĞºÑĞ¸Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ Ğ·Ğ½Ğ°Ñ‡Ğ¸Ğ¼Ğ°)",
        "breast_note": "âŒ ĞĞµÑĞ¼Ğ¾Ñ‚Ñ€Ñ Ğ½Ğ° Ğ½Ğ¸Ğ·ĞºĞ¸Ğ¹ RID, Ñ€Ğ¸ÑĞº Ğ½ĞµĞ¹Ñ‚Ñ€Ğ¾Ğ¿ĞµĞ½Ğ¸Ğ¸/Ğ°Ğ³Ñ€Ğ°Ğ½ÑƒĞ»Ğ¾Ñ†Ğ¸Ñ‚Ğ¾Ğ·Ğ° Ñƒ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¸ÑĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ Ğ“Ğ’.",
        "recommendation": "âš ï¸ ĞŸÑ€Ğ¸ Ñ€ĞµÑ„Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ½Ğ¾Ğ¹ ÑˆĞ¸Ğ·Ğ¾Ñ„Ñ€ĞµĞ½Ğ¸Ğ¸ â€” Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°Ñ‚ÑŒ Ñ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ¾Ğ¼. Ğ“Ğ’ â€” Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½Ğ¾.",
        "references": ["Lactmed NCBI"],
    },
    "ĞĞ»Ğ°Ğ½Ğ·Ğ°Ğ¿Ğ¸Ğ½": {
        "fda_category": "C",
        "teratogenicity": "Ğ”Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¾Ñ‚Ğ½Ğ¾ÑĞ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ½ĞµĞ¼Ğ½Ğ¾Ğ³Ğ¾; Ğ½Ğµ Ğ²Ñ‹ÑĞ²Ğ»ĞµĞ½ ĞºĞ°Ğº Ğ·Ğ½Ğ°Ñ‡Ğ¸Ğ¼Ñ‹Ğ¹ Ñ‚ĞµÑ€Ğ°Ñ‚Ğ¾Ğ³ĞµĞ½.",
        "trimester_risks": {
            "Ğ’ÑĞµ": "âš ï¸ Ğ“ĞµÑÑ‚Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ğ¹ Ğ´Ğ¸Ğ°Ğ±ĞµÑ‚, Ğ¸Ğ·Ğ±Ñ‹Ñ‚Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ¿Ñ€Ğ¸Ğ±Ğ°Ğ²ĞºĞ° Ğ² Ğ²ĞµÑĞµ (Ğ¼ĞµÑ‚Ğ°Ğ±Ğ¾Ğ»Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑÑ„Ñ„ĞµĞºÑ‚Ñ‹ Ñƒ Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸)",
            "III": "ĞĞµĞ¾Ğ½Ğ°Ñ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ¸Ğ½Ğ´Ñ€Ğ¾Ğ¼ Ğ¾Ñ‚Ğ¼ĞµĞ½Ñ‹ / ÑĞºÑÑ‚Ñ€Ğ°Ğ¿Ğ¸Ñ€Ğ°Ğ¼Ğ¸Ğ´Ğ½Ñ‹Ğµ ÑĞ¸Ğ¼Ğ¿Ñ‚Ğ¾Ğ¼Ñ‹ Ñƒ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ğ¾Ğ³Ğ¾",
        },
        "breastfeeding": "RID ~1â€“2%",
        "rid": "1.1â€“1.6%",
        "breast_note": "ĞÑ‚Ğ½Ğ¾ÑĞ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞµĞ½ Ğ¿Ñ€Ğ¸ Ğ“Ğ’ Ğ¿Ğ¾ RID; Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¼ĞµĞ½ÑŒÑˆĞµ, Ñ‡ĞµĞ¼ Ğ´Ğ»Ñ ÑĞµÑ€Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ½Ğ°.",
        "recommendation": "âš ï¸ ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ğ³Ğ»Ğ¸ĞºĞµĞ¼Ğ¸Ğ¸ Ğ¸ Ğ²ĞµÑĞ° Ñƒ Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸ Ğ¿Ñ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸. ĞŸÑ€Ğ¸ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ°Ğ½Ñ‚Ğ¸Ğ¿ÑĞ¸Ñ…Ğ¾Ñ‚Ğ¸ĞºĞ° â€” Ğ´Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ğ¼.",
        "references": ["Lactmed NCBI"],
    },
    "Ğ”Ğ¸Ğ°Ğ·ĞµĞ¿Ğ°Ğ¼": {
        "fda_category": "D",
        "teratogenicity": "âš ï¸ Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ: Ñ€Ğ°ÑÑ‰ĞµĞ»Ğ¸Ğ½Ğ° Ğ½Ñ‘Ğ±Ğ° (ÑĞ»Ğ°Ğ±Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ). Ğ¡Ğ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ: Ñ€Ğ¸ÑĞº Ğ¼Ğ°Ğ».",
        "trimester_risks": {
            "I": "Ğ Ğ°ÑÑ‰ĞµĞ»Ğ¸Ğ½Ğ° Ğ½Ñ‘Ğ±Ğ° â€” Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ñ€ĞµÑ‡Ğ¸Ğ²Ñ‹, Ğ°Ğ±ÑĞ¾Ğ»ÑÑ‚Ğ½Ñ‹Ğ¹ Ñ€Ğ¸ÑĞº Ğ½ĞµĞ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚ĞµĞ»ĞµĞ½",
            "III": "âŒ Â«Ğ¡Ğ¸Ğ½Ğ´Ñ€Ğ¾Ğ¼ Ğ²ÑĞ»Ğ¾Ğ³Ğ¾ Ñ€ĞµĞ±Ñ‘Ğ½ĞºĞ°Â»: Ğ³Ğ¸Ğ¿Ğ¾Ñ‚Ğ¾Ğ½Ğ¸Ñ, Ğ°Ğ¿Ğ½Ğ¾Ñ, Ğ»ĞµÑ‚Ğ°Ñ€Ğ³Ğ¸Ñ, Ğ½Ğ°Ñ€ÑƒÑˆĞµĞ½Ğ¸Ğµ ÑĞ¾ÑĞ°Ğ½Ğ¸Ñ",
        },
        "breastfeeding": "âš ï¸ Ğ£Ğ¼ĞµÑ€ĞµĞ½Ğ½Ñ‹Ğ¹ RID ~8â€“9%. Ğ¡ĞµĞ´Ğ°Ñ†Ğ¸Ñ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ğ¾Ğ³Ğ¾.",
        "rid": "2.7â€“9.0%",
        "breast_note": "ĞĞ°ĞºĞ¾Ğ¿Ğ»ĞµĞ½Ğ¸Ğµ Ğ² Ğ¶Ğ¸Ñ€Ğ¾Ğ²Ğ¾Ğ¹ Ñ‚ĞºĞ°Ğ½Ğ¸ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ğ¾Ğ³Ğ¾ â†’ Ğ¿Ñ€Ğ¾Ğ»Ğ¾Ğ½Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ ÑĞµĞ´Ğ°Ñ†Ğ¸Ñ. ĞĞµ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ Ğ¿Ñ€Ğ¸ Ğ“Ğ’.",
        "recommendation": "âŒ ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ D. Ğ˜Ğ·Ğ±ĞµĞ³Ğ°Ñ‚ÑŒ, Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ Ğ² I Ğ¸ III Ñ‚Ñ€Ğ¸Ğ¼ĞµÑÑ‚Ñ€Ğ°Ñ…. ĞšÑ€Ğ°Ñ‚ĞºĞ¸Ğ¹ ĞºÑƒÑ€Ñ Ğ¿Ñ€Ğ¸ Ğ¾ÑÑ‚Ñ€Ğ¾Ğ¼ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğ¸ â€” Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶ĞµĞ½ Ğ¿Ğ¾ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ ĞºĞ¾Ğ½ÑĞ¸Ğ»Ğ¸ÑƒĞ¼Ğ°.",
        "references": ["ACOG 2020", "Lactmed NCBI"],
    },
}

_CLASS_PREG: dict[str, dict] = {
    "SSRI": {
        "general": "Ğ’ Ñ†ĞµĞ»Ğ¾Ğ¼ Ğ½Ğ°Ğ¸Ğ±Ğ¾Ğ»ĞµĞµ Ğ¸Ğ·ÑƒÑ‡ĞµĞ½Ğ½Ğ°Ñ Ğ¸ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ°Ñ Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ° Ğ¿Ñ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸. Ğ¡ĞµÑ€Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ½ â€” Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¹ Ğ²Ñ‹Ğ±Ğ¾Ñ€.",
        "trimester_key": "III Ñ‚Ñ€Ğ¸Ğ¼ĞµÑÑ‚Ñ€: Ğ½ĞµĞ¾Ğ½Ğ°Ñ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ¸Ğ½Ğ´Ñ€Ğ¾Ğ¼ Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ°Ñ†Ğ¸Ğ¸ (Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ½Ñ‹Ğ¹) Ğ¸ PPHN (Ñ€ĞµĞ´ĞºĞ¾). ĞĞµ Ğ¿Ğ¾Ğ²Ğ¾Ğ´ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ¼ĞµĞ½Ñ‹ Ğ±ĞµĞ· Ğ¾Ğ±ÑÑƒĞ¶Ğ´ĞµĞ½Ğ¸Ñ Ñ Ğ²Ñ€Ğ°Ñ‡Ğ¾Ğ¼.",
        "breastfeeding": "Ğ‘Ğ¾Ğ»ÑŒÑˆĞ¸Ğ½ÑÑ‚Ğ²Ğ¾ SSRI Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ñ‹ Ğ¿Ñ€Ğ¸ Ğ“Ğ’. Ğ¡ĞµÑ€Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ½ Ğ¸ Ğ¿Ğ°Ñ€Ğ¾ĞºÑĞµÑ‚Ğ¸Ğ½ â€” Ğ½Ğ°Ğ¸Ğ¼ĞµĞ½ÑŒÑˆĞ¸Ğ¹ RID.",
        "principle": "ĞŸĞ¾Ğ»ÑŒĞ·Ğ° Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ñ Ğ´ĞµĞ¿Ñ€ĞµÑÑĞ¸Ğ¸/Ñ‚Ñ€ĞµĞ²Ğ¾Ğ³Ğ¸ Ğ¿Ñ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¿Ñ€ĞµĞ²Ñ‹ÑˆĞ°ĞµÑ‚ Ñ€Ğ¸ÑĞºĞ¸ Ğ½ĞµĞ»ĞµÑ‡ĞµĞ½Ğ¸Ñ Ğ² Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğ½ÑÑ‚Ğ²Ğµ ÑĞ»ÑƒÑ‡Ğ°ĞµĞ².",
    },
    "TCA": {
        "general": "ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ; Ğ½Ğµ Ğ¿Ñ€ĞµĞ¿Ğ°Ñ€Ğ°Ñ‚Ñ‹ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ³Ğ¾ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° Ğ¿Ñ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸.",
        "trimester_key": "III Ñ‚Ñ€Ğ¸Ğ¼ĞµÑÑ‚Ñ€: Ğ½ĞµĞ¾Ğ½Ğ°Ñ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞ¸Ğ½Ğ´Ñ€Ğ¾Ğ¼ Ğ¾Ñ‚Ğ¼ĞµĞ½Ñ‹; ĞºĞ°Ñ€Ğ´Ğ¸Ğ¾Ñ‚Ğ¾ĞºÑĞ¸Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ Ñƒ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¸ Ğ²Ñ‹ÑĞ¾ĞºĞ¸Ñ… Ğ´Ğ¾Ğ·Ğ°Ñ… Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸.",
        "breastfeeding": "RID Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾ Ğ½Ğ¸Ğ·ĞºĞ¸Ğ¹, Ğ½Ğ¾ Ğ¿Ñ€ĞµĞ´Ğ¿Ğ¾Ñ‡Ñ‚Ğ¸Ñ‚ĞµĞ»ÑŒĞ½ĞµĞµ SSRI.",
        "principle": "ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ÑÑ‚ÑŒ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ĞµÑĞ»Ğ¸ Ğ½ĞµÑ‚ Ğ°Ğ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ñ‹ Ğ¸Ğ»Ğ¸ Ğ¿Ğ°Ñ†Ğ¸ĞµĞ½Ñ‚ĞºĞ° ÑƒĞ¶Ğµ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚.",
    },
    "Ğ¡Ñ‚Ğ°Ğ±Ğ¸Ğ»Ğ¸Ğ·Ğ°Ñ‚Ğ¾Ñ€Ñ‹ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ¸Ñ": {
        "general": "âš ï¸ Ğ’Ğ°Ğ»ÑŒĞ¿Ñ€Ğ¾Ğ°Ñ‚ â€” ĞĞ‘Ğ¡ĞĞ›Ğ®Ğ¢ĞĞ ĞŸĞ ĞĞ¢Ğ˜Ğ’ĞĞŸĞĞšĞĞ—ĞĞ. Ğ›Ğ°Ğ¼Ğ¾Ñ‚Ñ€Ğ¸Ğ´Ğ¶Ğ¸Ğ½ â€” Ğ¿Ñ€ĞµĞ´Ğ¿Ğ¾Ñ‡Ñ‚Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ²Ñ‹Ğ±Ğ¾Ñ€. Ğ›Ğ¸Ñ‚Ğ¸Ğ¹ â€” ÑƒĞ¼ĞµÑ€ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ€Ğ¸ÑĞº.",
        "trimester_key": "I Ñ‚Ñ€Ğ¸Ğ¼ĞµÑÑ‚Ñ€: Ğ½Ğ°Ğ¸Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğ¹ Ñ‚ĞµÑ€Ğ°Ñ‚Ğ¾Ğ³ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ€Ğ¸ÑĞº Ğ´Ğ»Ñ Ğ²Ğ°Ğ»ÑŒĞ¿Ñ€Ğ¾Ğ°Ñ‚Ğ° Ğ¸ Ğ»Ğ¸Ñ‚Ğ¸Ñ.",
        "breastfeeding": "Ğ›Ğ°Ğ¼Ğ¾Ñ‚Ñ€Ğ¸Ğ´Ğ¶Ğ¸Ğ½: ÑƒĞ¼ĞµÑ€ĞµĞ½Ğ½Ñ‹Ğ¹ RID, Ğ½Ğ°Ğ±Ğ»ÑĞ´ĞµĞ½Ğ¸Ğµ. Ğ›Ğ¸Ñ‚Ğ¸Ğ¹: Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½. Ğ’Ğ°Ğ»ÑŒĞ¿Ñ€Ğ¾Ğ°Ñ‚: Ğ“Ğ’ Ñ‚ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾, Ğ½Ğ¾ ÑĞ°Ğ¼ Ğ¿Ñ€ĞµĞ¿Ğ°Ñ€Ğ°Ñ‚ Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ²Ğ¾Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½.",
        "principle": "Ğ—Ğ°Ğ±Ğ»Ğ°Ğ³Ğ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾Ğµ Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ â€” ĞºĞ»ÑÑ‡ĞµĞ²Ğ¾Ğ¹ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚. ĞŸĞµÑ€ĞµĞ²Ğ¾Ğ´ Ñ Ğ²Ğ°Ğ»ÑŒĞ¿Ñ€Ğ¾Ğ°Ñ‚Ğ° Ğ´Ğ¾ Ğ·Ğ°Ñ‡Ğ°Ñ‚Ğ¸Ñ.",
    },
    "ĞÑ‚Ğ¸Ğ¿Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ°Ğ½Ñ‚Ğ¸Ğ¿ÑĞ¸Ñ…Ğ¾Ñ‚Ğ¸ĞºĞ¸": {
        "general": "Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ñ‹, Ğ½Ğ¾ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ¿Ñ€ĞµĞ¿Ğ°Ñ€Ğ°Ñ‚Ñ‹ Ğ½Ğµ ÑĞ²Ğ»ÑÑÑ‚ÑÑ Ğ·Ğ½Ğ°Ñ‡Ğ¸Ğ¼Ñ‹Ğ¼Ğ¸ Ñ‚ĞµÑ€Ğ°Ñ‚Ğ¾Ğ³ĞµĞ½Ğ°Ğ¼Ğ¸.",
        "trimester_key": "III Ñ‚Ñ€Ğ¸Ğ¼ĞµÑÑ‚Ñ€: Ğ­ĞŸĞ¡/ÑĞ¸Ğ½Ğ´Ñ€Ğ¾Ğ¼ Ğ¾Ñ‚Ğ¼ĞµĞ½Ñ‹ Ñƒ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ğ¾Ğ³Ğ¾ (FDA black box). ĞœĞµÑ‚Ğ°Ğ±Ğ¾Ğ»Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ€Ğ¸ÑĞºĞ¸ Ğ´Ğ»Ñ Ğ¼Ğ°Ñ‚ĞµÑ€Ğ¸.",
        "breastfeeding": "Ğ‘Ğ¾Ğ»ÑŒÑˆĞ¸Ğ½ÑÑ‚Ğ²Ğ¾ Ğ¸Ğ¼ĞµÑÑ‚ Ğ½Ğ¸Ğ·ĞºĞ¸Ğ¹ RID; ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ²Ğ°Ñ€ÑŒĞ¸Ñ€ÑƒÑÑ‚.",
        "principle": "ĞŸÑ€Ğ¸ Ğ¿ÑĞ¸Ñ…Ğ¾Ğ·Ğµ â€” Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°Ñ‚ÑŒ Ğ»ĞµÑ‡ĞµĞ½Ğ¸Ğµ: Ñ€Ğ¸ÑĞº Ğ½ĞµĞ»ĞµÑ‡ĞµĞ½Ğ¸Ñ Ğ¿ÑĞ¸Ñ…Ğ¾Ğ·Ğ° Ğ²Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ²Ñ‹ÑĞ¾Ğº.",
    },
    "Ğ‘ĞµĞ½Ğ·Ğ¾Ğ´Ğ¸Ğ°Ğ·ĞµĞ¿Ğ¸Ğ½Ñ‹": {
        "general": "âš ï¸ Ğ˜Ğ·Ğ±ĞµĞ³Ğ°Ñ‚ÑŒ Ğ¿Ğ¾ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸; ĞºÑ€Ğ°Ñ‚ĞºĞ¾ÑÑ€Ğ¾Ñ‡Ğ½Ğ¾Ğµ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ñ€Ğ¸ Ğ¾ÑÑ‚Ñ€Ñ‹Ñ… ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸ÑÑ….",
        "trimester_key": "III: Â«Ğ¡Ğ¸Ğ½Ğ´Ñ€Ğ¾Ğ¼ Ğ²ÑĞ»Ğ¾Ğ³Ğ¾ Ñ€ĞµĞ±Ñ‘Ğ½ĞºĞ°Â» â€” Ğ³Ğ¸Ğ¿Ğ¾Ñ‚Ğ¾Ğ½Ğ¸Ñ, Ğ°Ğ¿Ğ½Ğ¾Ñ, Ğ½Ğ°Ñ€ÑƒÑˆĞµĞ½Ğ¸Ñ ĞºĞ¾Ñ€Ğ¼Ğ»ĞµĞ½Ğ¸Ñ.",
        "breastfeeding": "Ğ£Ğ¼ĞµÑ€ĞµĞ½Ğ½Ñ‹Ğ¹ RID; ÑĞµĞ´Ğ°Ñ†Ğ¸Ñ Ğ½Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ¶Ğ´Ñ‘Ğ½Ğ½Ğ¾Ğ³Ğ¾. ĞĞµĞ¶ĞµĞ»Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹ Ğ¿Ñ€Ğ¸ Ğ“Ğ’.",
        "principle": "ĞĞµ Ğ´Ğ»Ñ Ğ´Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ. ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ° â€” SSRI, Ğ¿ÑĞ¸Ñ…Ğ¾Ñ‚ĞµÑ€Ğ°Ğ¿Ğ¸Ñ.",
    },
}


def _get_preg_info(drug: dict) -> tuple[dict | None, dict | None]:
    name = drug.get("name", "")
    drug_class = drug.get("class", "")
    spec = None
    for key in _PREG_TABLE:
        if key.lower() == name.lower():
            spec = _PREG_TABLE[key]
            break
    class_info = _CLASS_PREG.get(drug_class)
    return spec, class_info


def _build_preg_text(drug: dict, spec: dict | None, class_info: dict | None) -> str:
    lines = [
        f"ğŸ¤° *Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¸ Ğ»Ğ°ĞºÑ‚Ğ°Ñ†Ğ¸Ğ¸*",
        f"*{drug['name']}* ({drug.get('class', 'â€”')})",
        "",
    ]

    if spec:
        lines += [
            f"ğŸ“‹ *Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡ĞµÑĞºĞ°Ñ FDA-ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ:* {spec['fda_category']}",
            "",
            f"ğŸ§¬ *Ğ¢ĞµÑ€Ğ°Ñ‚Ğ¾Ğ³ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ:* {spec['teratogenicity']}",
            "",
            "*â³ Ğ Ğ¸ÑĞºĞ¸ Ğ¿Ğ¾ Ñ‚Ñ€Ğ¸Ğ¼ĞµÑÑ‚Ñ€Ğ°Ğ¼:*",
        ]
        for trim, risk in spec["trimester_risks"].items():
            lines.append(f"  *{trim}:* {risk}")

        lines += [
            "",
            f"ğŸ¼ *Ğ“Ñ€ÑƒĞ´Ğ½Ğ¾Ğµ Ğ²ÑĞºĞ°Ñ€Ğ¼Ğ»Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ:* {spec['breastfeeding']}",
            f"   RID: {spec['rid']}",
            f"   {spec['breast_note']}",
            "",
            f"âœ… *Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ñ:* {spec['recommendation']}",
            "",
            f"ğŸ“š *Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸ĞºĞ¸:* {', '.join(spec['references'])}",
        ]
    elif class_info:
        lines.append(f"_(Ğ¡Ğ¿ĞµÑ†Ğ¸Ñ„Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ½ĞµÑ‚ â€” Ğ¾Ğ±Ñ‰Ğ¸Ğµ Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹ Ğ´Ğ»Ñ ĞºĞ»Ğ°ÑÑĞ° {drug.get('class', 'â€”')})_")
        lines += [
            "",
            f"ğŸ§¬ *ĞĞ±Ñ‰ĞµĞµ:* {class_info['general']}",
            "",
            f"â³ *ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ñ€Ğ¸ÑĞºĞ¸ Ğ¿Ğ¾ Ñ‚Ñ€Ğ¸Ğ¼ĞµÑÑ‚Ñ€Ğ°Ğ¼:* {class_info['trimester_key']}",
            "",
            f"ğŸ¼ *Ğ“Ñ€ÑƒĞ´Ğ½Ğ¾Ğµ Ğ²ÑĞºĞ°Ñ€Ğ¼Ğ»Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ:* {class_info['breastfeeding']}",
            "",
            f"ğŸ’¡ *ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿:* {class_info['principle']}",
        ]
    else:
        lines.append("Ğ”Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ğ¾ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚Ğ¸ Ğ¿Ñ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾. ĞĞ±Ñ€Ğ°Ñ‚Ğ¸Ñ‚ĞµÑÑŒ Ğº Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ğ¸ Ğ¸ Lactmed/Reprotox.")

    lines += [
        "",
        "âš ï¸ _Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ¾ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ Ğ¿ÑĞ¸Ñ…Ğ¾Ñ‚Ñ€Ğ¾Ğ¿Ğ½Ñ‹Ñ… Ğ¿Ñ€ĞµĞ¿Ğ°Ñ€Ğ°Ñ‚Ğ¾Ğ² Ğ¿Ñ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¸ Ğ“Ğ’ Ğ²ÑĞµĞ³Ğ´Ğ° Ğ¸Ğ½Ğ´Ğ¸Ğ²Ğ¸Ğ´ÑƒĞ°Ğ»ÑŒĞ½Ğ¾. "
        "ĞšĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ°Ñ†Ğ¸Ñ Ğ¿ÑĞ¸Ñ…Ğ¸Ğ°Ñ‚Ñ€Ğ° + Ğ°ĞºÑƒÑˆĞµÑ€Ğ°-Ğ³Ğ¸Ğ½ĞµĞºĞ¾Ğ»Ğ¾Ğ³Ğ° Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ°._",
    ]
    return "\n".join(lines)


# â”€â”€â”€ Conversation â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

async def start_preg_safety(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    await update.message.reply_text(
        "ğŸ¤° *Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¸ Ğ±ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¸ Ğ»Ğ°ĞºÑ‚Ğ°Ñ†Ğ¸Ğ¸*\n\n"
        "Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ĞœĞĞ Ğ¿Ñ€ĞµĞ¿Ğ°Ñ€Ğ°Ñ‚Ğ°:\n"
        "_ĞĞ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€: Ğ¡ĞµÑ€Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ½, Ğ›Ğ°Ğ¼Ğ¾Ñ‚Ñ€Ğ¸Ğ´Ğ¶Ğ¸Ğ½, Ğ’Ğ°Ğ»ÑŒĞ¿Ñ€Ğ¾Ğ°Ñ‚, ĞĞ»Ğ°Ğ½Ğ·Ğ°Ğ¿Ğ¸Ğ½_",
        parse_mode="Markdown",
        reply_markup=back_keyboard("back:main"),
    )
    return PREG_DRUG


async def preg_drug_message(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    name = update.message.text.strip()

    drug = get_drug_by_name(name)
    if not drug:
        results = search_drugs(name)
        drug = results[0] if results else None

    if not drug:
        await update.message.reply_text(
            f"âš ï¸ ĞŸÑ€ĞµĞ¿Ğ°Ñ€Ğ°Ñ‚ *{name}* Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½ Ğ² Ğ±Ğ°Ğ·Ğµ.\n\n"
            "ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ ĞœĞĞ (Ğ½Ğ° Ñ€ÑƒÑÑĞºĞ¾Ğ¼) Ğ¸ Ğ¿Ğ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ ÑĞ½Ğ¾Ğ²Ğ°.",
            parse_mode="Markdown",
        )
        return PREG_DRUG

    spec, class_info = _get_preg_info(drug)
    text = _build_preg_text(drug, spec, class_info)
    for i in range(0, len(text), 4000):
        await update.message.reply_text(text[i:i + 4000], parse_mode="Markdown")

    await update.message.reply_text(
        "ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚Ğ¸.",
        reply_markup=preg_result_keyboard(),
    )
    return PREG_RESULT


async def preg_result_callback(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    query = update.callback_query
    await query.answer()
    data = query.data

    if data == "back:main":
        await query.message.reply_text("Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ:", reply_markup=main_menu_keyboard())
        return MAIN_MENU

    if data == "preg:again":
        await query.message.reply_text(
            "Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ñ€ĞµĞ¿Ğ°Ñ€Ğ°Ñ‚Ğ°:",
            reply_markup=back_keyboard("back:main"),
        )
        return PREG_DRUG

    return PREG_RESULT
